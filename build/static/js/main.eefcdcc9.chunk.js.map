{"version":3,"sources":["util/constants.ts","components/numberpad.tsx","components/BlendDialog.tsx","components/CommandInterfaces/DropdownStyle.ts","components/CommandInterfaces/Testpattern.tsx","components/MenuDialog.tsx","components/Alert.tsx","components/CommandInterfaces/LensCal.tsx","components/LensDialog.tsx","components/CommandInterfaces/Power.tsx","components/CommandInterfaces/Shutter.tsx","components/CommandInterfaces/BackColor.tsx","components/CommandInterfaces/InputSelection.tsx","components/CommandInterfaces/OSDPostion.tsx","components/CommandInterfaces/OSDRotation.tsx","components/CommandInterfaces/PJPostion.tsx","components/CommandInterfaces/QuickSlider.tsx","components/ProjectorSetupDialog.tsx","components/CommandPad.tsx","util/CMD.ts","components/PJCard.tsx","components/ProgrammerTable.tsx","components/Programmer.tsx","util/getter.ts","components/PatchAddDialog.tsx","components/Patch.tsx","util/UpdateLog.ts","components/About.tsx","components/ConfigDialog.tsx","util/SocketListener.ts","components/InputPopup.tsx","components/Worlds.tsx","components/WorldBox.tsx","App.tsx","prefrences.ts","components/ControlMenu.tsx","components/Disconnected.tsx","LoadPage.tsx","serviceWorker.js","reportWebVitals.js","index.js"],"names":["pjServer","process","ioCommands","commands","menuCommands","THRU","DEL","CLEAR","NEXT","IF_PROG","BACK","ENTER","STORE_GROUP","ControlCommands","PROJECTOR_MAKES","ConfigHeaders","keys","defaultConfig","Patch","Location","LastUpdated","Date","Polling","Polling_Interval","Groups","0","name","group","ButtonStyle","width","height","marginBottom","Numberpad","props","handlePad","getButtons","C","map","key","w","Button","variant","style","margin","padding","touchAction","size","onClick","e","Paper","elevation","className","buttons","groups","i","length","g","slice","push","ButtonGroup","buttonGroups","BlendDialog","open","handleClose","handleCommand","buttonStyle","buttonGroupStyle","justifyContent","textAlign","Dialog","onClose","aria-labelledby","DialogTitle","id","EDGE_BLENDING_ON","EDGE_BLENDING_OFF","EDGE_BLENDING_MARKERS_ON","EDGE_BLENDING_MARKERS_OFF","EDGE_BLENDING_UPPER_ON","EDGE_BLENDING_UPPER_OFF","EDGE_BLENDING_RIGHT_ON","EDGE_BLENDING_RIGHT_OFF","EDGE_BLENDING_LOWER_ON","EDGE_BLENDING_LOWER_OFF","EDGE_BLENDING_LEFT_ON","EDGE_BLENDING_LEFT_OFF","dropdownStyle","makeStyles","theme","formControl","spacing","minWidth","selectEmpty","marginTop","useStyles","Testpattern","classes","FormControl","InputLabel","Select","labelId","value","onChange","target","MenuItem","TEST_PATTERN_OFF","TEST_PATTERN_WHITE","TEST_PATTERN_BLACK","TEST_PATTERN_FOCUS_RED","TEST_PATTERN_FOCUS_WHITE","validMenuKeys","MenuDialog","document","onkeydown","includes","NUMBER_KEY_0","NUMBER_KEY_1","NUMBER_KEY_2","NUMBER_KEY_3","NUMBER_KEY_4","NUMBER_KEY_5","NUMBER_KEY_7","NUMBER_KEY_8","NUMBER_KEY_9","MENU_ENTER_KEY","MENU_DEFAULT_KEY","MENU_UP_KEY","MENU_DOWN_KEY","MENU_LEFT_KEY","MENU_RIGHT_KEY","MENU","OSD_ON","OSD_OFF","FREEZE_ON","FREEZE_OFF","Alert","command","header","message","handleClick","approval","aria-describedby","DialogContent","DialogContentText","DialogActions","color","autoFocus","LensCal","useState","openHomeAlert","setOpenHomeAlert","openCalAlert","setOpenCalAlert","LENS_POSTION_HOME","shift","setShift","focus","setFocus","zoom","setZoom","getButton","cmd","text","Accordion","expanded","AccordionSummary","expandIcon","aria-controls","Typography","AccordionDetails","Container","marginLeft","paddingLeft","LENS_SHIFT_H_FN","LENS_SHIFT_H_NN","LENS_SHIFT_H_SN","LENS_SHIFT_H_SP","LENS_SHIFT_H_NP","LENS_SHIFT_H_FP","LENS_SHIFT_V_FN","LENS_SHIFT_V_NN","LENS_SHIFT_V_SN","LENS_SHIFT_V_SP","LENS_SHIFT_V_NP","LENS_SHIFT_V_FP","LENS_FOCUS_FN","LENS_FOCUS_NN","LENS_FOCUS_SN","LENS_FOCUS_SP","LENS_FOCUS_NP","LENS_FOCUS_FP","LENS_ZOOM_FN","LENS_ZOOM_NN","LENS_ZOOM_SN","LENS_ZOOM_SP","LENS_ZOOM_NP","LENS_ZOOM_FP","Power","openPowerOnAlert","setOpenPowerOnAlert","openPowerOffAlert","setOpenPowerOffAlert","POWER_OFF","POWER_ON","Shutter","SHUTTER_CLOSED","SHUTTER_OPEN","BackColor","BACK_COLOR_BLUE","BACK_COLOR_BLACK","BACK_COLOR_DEFAULT_LOGO","BACK_COLOR_USER_LOGO","InputSelection","INPUT_SELECT_HDMI1","INPUT_SELECT_HDMI2","INPUT_SELECT_COMPUTER1","INPUT_SELECT_COMPUTER2","INPUT_SELECT_DIGITALLINK","INPUT_SELECT_DVI","INPUT_SELECT_SDI1","INPUT_SELECT_VIDEO","INPUT_SELECT_YC","OSDPostion","OSD_POSITION_UPPER_LEFT","OSD_POSITION_CENTER_LEFT","OSD_POSITION_LOWER_LEFT","OSD_POSITION_TOP_CENTER","OSD_POSITION_CENTER","OSD_POSITION_LOWER_CENTER","OSD_POSITION_UPPER_RIGHT","OSD_POSITION_LOWER_RIGHT","OSDRotation","OSD_ROTATION_OFF","OSD_ROTATION_CLOCKWISE","OSD_ROTATION_COUNTERCLOCKWISE","PJPositon","PROJECTOR_INSTALL_METHOD_FRONT_AUTO","PROJECTOR_INSTALL_METHOD_FRONT_CEILING","PROJECTOR_INSTALL_METHOD_FRONT_DESK","PROJECTOR_INSTALL_METHOD_REAR_AUTO","PROJECTOR_INSTALL_METHOD_REAR_CEILING","PROJECTOR_INSTALL_METHOD_REAR_DESK","QuickSlider","min","max","label","setValue","Box","gutterBottom","Slider","event","newValue","console","log","ProjectorSetup","pj","active","setName","ID","setID","useEffect","popUp","PROJECTOR_NAME","PROJECTOR_ID","LIGHT_OUTPUT","TextField","CommandPad","pjs","lockCommandLine","menuOpen","setMenuOpen","blendOpen","setBlendOpen","lensOpen","setLensOpen","pjSetupOpen","setPJSetupOpen","_world","_groups","parse","cmdArray","parsed","parseThru","GROUP","parseGroup","parseNegative","parsePostive","parseNumber","Number","parseInt","isFinite","error","sub","concat","n","pop","Math","negative","x","table","PJCard","pj_tupple","handlePJCard","cardStyle","background","border","selected","ProgrammerTable","handlePJSelect","TableRow","TableCell","component","scope","shutter","regions","edgeBlendingUpper","edgeBlendingRight","edgeBlendingLower","edgeBlendingLeft","borderStyle","borderColor","edgeBlending","fontSize","edgeBlendingMarker","blendRegion","testPattren","lampStatus","hdmiResolution","hdmiSignalLevel","hdmiVerticalFrequency","osdPostion","root","flexGrow","paper","maxHeight","Programmer","world","prefs","handleTableSelect","getPJs","useMemo","groupEnd","sort","pjList","forEach","s","online","power","lastSeen","backColor","inputSignalName_Main","showOnlySelected","useMediaQuery","programmerTableView","TableContainer","Table","TableHead","TableBody","Grid","container","item","xs","goFetch","query","a","fetchString","fetch","mode","res","ok","json","PatchAddDialog","addPJs","currentPatch","PANASONIC","make","setMake","err","Amount","setAmount","Object","values","getMaxID","StartID","BaseIP","setBaseIP","UserName","setUserName","Pass","setPass","Port","setPort","checkOverlap","startID","amount","t","fullWidth","type","isNaN","helperText","split","handleBaseIP","disabled","auth","fab","position","bottom","right","columns","field","headerName","hide","patch","setPatch","addWindowOpen","setAddWindowOpen","setEditWindowOpen","setSelected","deleteWindowOpen","setDeleteWindowOpen","newPJs","rows","checkboxSelection","selectionModel","onSelectionModelChange","aria-label","c","newPatch","assign","entries","newSelect","getSelectedString","baseIP","port","ip_address","filter","v4","updateLog","version","date","notes","createStyles","bullet","display","transform","menuButton","marginRight","title","pos","About","bull","AppBar","update","Card","CardContent","note","appBar","flex","Transition","forwardRef","ref","Slide","direction","ConfigDialog","config","socket","polling","setPolling","pollingInterval","setPollingInterval","aboutOpen","setAboutOpen","fullScreen","TransitionComponent","onSubmit","preventDefault","form","querySelector","data","FormData","pair","v","toString","POLLING","POLLING_INTERVAL","setConfig","emit","EMITTING_PATCH","SocketPatcher","Toolbar","paddingBottom","IconButton","edge","LOCATION","defaultValue","FormControlLabel","labelPlacement","control","Switch","checked","p","handleInput","startText","setText","Worlds","setWorld","groupEditCMD","getWorlds","WorldBox","handleWorldSelection","handleGroupSelection","handleGroupConfig","worldOpen","setWorldOpen","groupOpen","setGroupOpen","configOpen","setConfigOpen","divRef","useRef","handleConfigSelect","generalMessage","DELETE_GROUP","LABEL_GROUP","getHelperText","Fade","in","float","current","Menu","keepMounted","anchorEl","removeFocus","activeElement","HTMLElement","blur","App","Props","openConfig","handleCloseConfig","setCMD","undefined","vartiable","setVartiable","setActive","activeIndex","setActiveIndex","clearPresses","setClearPressed","groupNameOpen","setGroupNameOpen","groupName","setGroupName","setPJs","pollingProgress","setPollingProgress","setCommand","setGroupEditCMD","selectedGroup","setSelectedGroup","setLastPJClicked","lockedCommandLine","setLockedCommandLine","blendMarker","blend","hdmiInput","signalName","rigStatus","setStatus","on","EMITTING_PJS","EMITTING_STATUS","status","REQUEST_UPDATE","REQUESTING_UPDATE","REQUEST_CONFIG","EMITTING_CONFIG","groupCollapsed","EMITTING_POLLING_PROGRESS","progress","SocketListener","EMITTING_CMD","pjIDs","clearProgrammerAfterCMD","onkeyup","clear0","clear1","clear2","handleCMD","handleNext","handleBack","trippleTapClearOnOne","cmdLine","processed","trim","newSelected","handleSelected","processCMD","getGroup","finalCMD","groupID","handleGroupAndWorld","UPDATE_GROUP","handleGroupUpdate","rel","href","LinearProgress","lock","InputLabelProps","shrink","cookieName","defaultPrefs","darkMode","setCookie","Cookies","set","getCookie","get","getPrefrences","JSON","d","ControlMenu","handleSettings","handleOpenConfig","setOpen","handleChange","CLEAR_SELECTED_ON_CMD","IF_SELECTED","DARK_MODE","PROGRAMMER_TABLE_VIEW","TRIPPLE_TAP_CLEAR_ON_ONE","button","aria-haspopup","Disconnected","CircularProgress","Settings","React","createContext","Pref","socketIOClinet","backdrop","zIndex","drawer","LoadPage","prefersDarkMode","prefres","setPrefs","setOpenConfig","socketConnected","setSocketConnected","createMuiTheme","palette","ThemeProvider","Provider","CssBaseline","Backdrop","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","URL","origin","addEventListener","headers","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.eefcdcc9.chunk.js","sourcesContent":["import { CSSProperties } from \"react\";\r\n\r\n\r\nexport let pjServer = 'http://localhost:3000/'\r\n//export let pjServer = 'http://192.168.10.249:3000/'\r\nif(process.env.NODE_ENV ==='production'){\r\n    pjServer = process.env.REACT_APP_SERVER? process.env.REACT_APP_SERVER : 'localhost:3000';\r\n}\r\n\r\n\r\nexport const fetchSettings: RequestInit = {\r\n    method:'get',\r\n    headers:{\r\n        \r\n    }\r\n   \r\n}\r\n\r\n\r\nexport type PJs = Record<number,PJ_OBJ>\r\n\r\nexport enum ioCommands {\r\n    REQUEST_UPDATE = 'REQUEST_UPDATE',\r\n    REQUESTING_UPDATE = 'REQUESTING_UPDATE',\r\n    EMITTING_PJS = 'EMITTING_PJS',\r\n    EMITTING_STATUS = 'EMITTING_STATUS',\r\n    REQUEST_CONFIG = 'REQUEST_CONFIG',\r\n    EMITTING_CONFIG = 'EMITTING_CONFIG',\r\n    REQUESTING_CONFIG = 'REQUESTING_CONFIG', \r\n    EMITTING_PATCH = 'EMITTING_PATCH',\r\n    EMITTING_POLLING_PROGRESS = 'EMITTING_POLLING_PROGRESS',\r\n    EMITTING_CMD = 'EMITTING_CMD',\r\n    STORE_GROUP = 'STORE_GROUP',\r\n    UPDATE_GROUP = 'UPDATE_GROUP',\r\n    LABEL_GROUP= 'LABEL_GROUP',\r\n    DELETE_GROUP='DELETE_GROUP'\r\n    \r\n}\r\nexport type PJ_OBJ = {\r\n    id: number,\r\n    power: string,\r\n    name: string,\r\n    shutter: string,\r\n    online: string,\r\n    lastSeen: number,\r\n    lampStatus: string,\r\n    edgeBlending: string,\r\n    edgeBlendingMarker: string,\r\n    edgeBlendingUpper: string,\r\n    edgeBlendingLower: string,\r\n    edgeBlendingRight: string,\r\n    edgeBlendingLeft: string,\r\n    testPattren: string,\r\n    backColor: string,\r\n    hdmiSignalLevel: string,\r\n    hdmiResolution: string,\r\n    hdmiVerticalFrequency: string,\r\n    osdPostion: string,\r\n    inputSignalName_Main: string,\r\n    error: string\r\n\r\n}\r\nexport interface RIG_STATUS{\r\n    online: boolean,\r\n    power: boolean,\r\n    shutter: boolean,\r\n    blend: boolean,\r\n    blendMarker: boolean,\r\n    testPattren: boolean,\r\n    lampStatus: boolean,\r\n    hdmiInput:boolean,\r\n    signalName: boolean\r\n}\r\n\r\nexport enum commands{\r\n    THRU = 'THRU',\r\n    DEL = 'DEL',\r\n    CLEAR = 'CLEAR',\r\n    ENTER = 'ENTER',\r\n    NEXT = 'NEXT',\r\n    BACK = 'BACK',\r\n    IF_PROG = 'IF_PROG',\r\n    GROUP = 'GROUP'\r\n\r\n}\r\n\r\nexport enum menuCommands{\r\n    CLEAR_SELECTED_ON_CMD = 'CLEAR_SELECTED_ON_CMD',\r\n    IF_SELECTED = 'IF_SELECTED',\r\n    DARK_MODE = 'DARK_MODE',\r\n    PROGRAMMER_TABLE_VIEW ='PROGRAMMER_TABLE_VIEW',\r\n    TRIPPLE_TAP_CLEAR_ON_ONE ='TRIPPLE_TAP_CLEAR_ON_ONE'\r\n}\r\nexport const _keys= ['7','8','9','4','5','6','1','2','3','-','0','+',commands.THRU,commands.DEL, commands.CLEAR, commands.NEXT, commands.IF_PROG, commands.BACK, commands.ENTER, ioCommands.STORE_GROUP]\r\n\r\nexport const keys= ['7','8','9','4','5','6','1','2','3','-','0','+',commands.THRU,commands.DEL, commands.CLEAR, commands.BACK, commands.IF_PROG, commands.NEXT, commands.ENTER]\r\n\r\nexport enum ControlCommands {\r\n    POWER_OFF = 'POWER_OFF',\r\n    POWER_ON = 'POWER_ON',\r\n    SHUTTER_CLOSED = 'SHUTTER_CLOSED',\r\n    SHUTTER_OPEN = 'SHUTTER_OPEN',\r\n    EDGE_BLENDING_OFF = 'EDGE_BLENDING_OFF',\r\n    EDGE_BLENDING_ON = 'EDGE_BLENDING_ON',\r\n    EDGE_BLENDING_MARKERS_ON = 'EDGE_BLENDING_MARKERS_ON',\r\n    EDGE_BLENDING_MARKERS_OFF = 'EDGE_BLENDING_MARKERS_OFF',\r\n    TEST_PATTERN_OFF = 'TEST_PATTERN_OFF',\r\n    TEST_PATTERN_WHITE = 'TEST_PATTERN_WHITE',\r\n    TEST_PATTERN_BLACK = 'TEST_PATTERN_BLACK',\r\n    TEST_PATTERN_FOCUS_RED = 'TEST_PATTERN_FOCUS_RED',\r\n    TEST_PATTERN_FOCUS_WHITE= 'TEST_PATTERN_FOCUS_WHITE',\r\n    MENU = 'MENU',\r\n    MENU_DOWN_KEY = 'MENU_DOWN_KEY',\r\n    MENU_UP_KEY = 'MENU_UP_KEY',\r\n    MENU_RIGHT_KEY = 'MENU_RIGHT_KEY',\r\n    MENU_LEFT_KEY = 'MENU_LEFT_KEY',\r\n    MENU_DEFAULT_KEY = 'MENU_DEFAULT_KEY',\r\n    MENU_ENTER_KEY = 'MENU_ENTER_KEY',\r\n    EDGE_BLENDING_UPPER_ON = 'EDGE_BLENDING_UPPER_ON',\r\n    EDGE_BLENDING_UPPER_OFF = 'EDGE_BLENDING_UPPER_OFF',\r\n    EDGE_BLENDING_LOWER_OFF = 'EDGE_BLENDING_LOWER_OFF',\r\n    EDGE_BLENDING_LOWER_ON = 'EDGE_BLENDING_LOWER_ON',\r\n    EDGE_BLENDING_RIGHT_OFF = 'EDGE_BLENDING_RIGHT_OFF',\r\n    EDGE_BLENDING_RIGHT_ON = 'EDGE_BLENDING_RIGHT_ON',\r\n    EDGE_BLENDING_LEFT_OFF = 'EDGE_BLENDING_LEFT_OFF',\r\n    EDGE_BLENDING_LEFT_ON = 'EDGE_BLENDING_LEFT_ON',\r\n    OSD_POSITION_UPPER_LEFT = 'OSD_POSITION_UPPER_LEFT',\r\n    OSD_POSITION_CENTER_LEFT = 'OSD_POSITION_CENTER_LEFT',\r\n    OSD_POSITION_LOWER_LEFT = 'OSD_POSITION_LOWER_LEFT',\r\n    OSD_POSITION_TOP_CENTER = 'OSD_POSITION_TOP_CENTER',\r\n    OSD_POSITION_CENTER = 'OSD_POSITION_CENTER',\r\n    OSD_POSITION_LOWER_CENTER = 'OSD_POSITION_LOWER_CENTER',\r\n    OSD_POSITION_UPPER_RIGHT = 'OSD_POSITION_UPPER_RIGHT',\r\n    OSD_POSITION_CENTER_RIGHT = 'OSD_POSITION_CENTER_RIGHT',\r\n    OSD_POSITION_LOWER_RIGHT = 'OSD_POSITION_LOWER_RIGHT',\r\n    PROJECTOR_NAME = 'PROJECTOR_NAME',\r\n    NUMBER_KEY_0 = 'NUMBER_KEY_0',\r\n    NUMBER_KEY_1 = 'NUMBER_KEY_1',\r\n    NUMBER_KEY_2 = 'NUMBER_KEY_2',\r\n    NUMBER_KEY_3 = 'NUMBER_KEY_3',\r\n    NUMBER_KEY_4 = 'NUMBER_KEY_4',\r\n    NUMBER_KEY_5 = 'NUMBER_KEY_5',\r\n    NUMBER_KEY_6 = 'NUMBER_KEY_6',\r\n    NUMBER_KEY_7 = 'NUMBER_KEY_7',\r\n    NUMBER_KEY_8 = 'NUMBER_KEY_8',\r\n    NUMBER_KEY_9 = 'NUMBER_KEY_9',\r\n    LENS_POSTION_HOME = 'LENS_POSTION_HOME',\r\n    LENS_CALIBRATION = 'LENS_CALIBRATION',\r\n    LENS_SHIFT_H_SP = 'LENS_SHIFT_H_SP',\r\n    LENS_SHIFT_H_SN = 'LENS_SHIFT_H_SN',\r\n    LENS_SHIFT_H_NP = 'LENS_SHIFT_H_NP',\r\n    LENS_SHIFT_H_NN = 'LENS_SHIFT_H_NN',\r\n    LENS_SHIFT_H_FP = 'LENS_SHIFT_H_FP',\r\n    LENS_SHIFT_H_FN = 'LENS_SHIFT_H_FN',\r\n    LENS_SHIFT_V_SP = 'LENS_SHIFT_V_SP',\r\n    LENS_SHIFT_V_SN = 'LENS_SHIFT_V_SN',\r\n    LENS_SHIFT_V_NP = 'LENS_SHIFT_V_NP',\r\n    LENS_SHIFT_V_NN = 'LENS_SHIFT_V_NN',\r\n    LENS_SHIFT_V_FP = 'LENS_SHIFT_V_FP',\r\n    LENS_SHIFT_V_FN = 'LENS_SHIFT_V_FN',\r\n    LENS_FOCUS_SP = 'LENS_FOCUS_SP',\r\n    LENS_FOCUS_SN = 'LENS_FOCUS_SN',\r\n    LENS_FOCUS_NP = 'LENS_FOCUS_NP',\r\n    LENS_FOCUS_NN = 'LENS_FOCUS_NN',\r\n    LENS_FOCUS_FP = 'LENS_FOCUS_FP',\r\n    LENS_FOCUS_FN = 'LENS_FOCUS_FN',\r\n    LENS_ZOOM_SP = 'LENS_ZOOM_SP',\r\n    LENS_ZOOM_SN = 'LENS_ZOOM_SN',\r\n    LENS_ZOOM_NP = 'LENS_ZOOM_NP',\r\n    LENS_ZOOM_NN = 'LENS_ZOOM_NN',\r\n    LENS_ZOOM_FP = 'LENS_ZOOM_FP',\r\n    LENS_ZOOM_FN = 'LENS_ZOOM_FN',\r\n    BACK_COLOR_BLUE = 'BACK_COLOR_BLUE',\r\n    BACK_COLOR_BLACK = 'BACK_COLOR_BLACK',\r\n    BACK_COLOR_USER_LOGO = 'BACK_COLOR_USER_LOGO',\r\n    BACK_COLOR_DEFAULT_LOGO = 'BACK_COLOR_DEFAULT_LOGO',\r\n    PROJECTOR_ID = 'PROJECTOR_ID',\r\n    OSD_ON = 'OSD_ON',\r\n    OSD_OFF = 'OSD_OFF',\r\n    FREEZE_OFF = 'FREEZE_OFF',\r\n    FREEZE_ON = 'FREEZE_ON',\r\n    CEILING_MOUNT_ON ='CEILING_MOUNT_ON',\r\n    CEILING_MOUNT_OFF='CEILING_MOUNT_OFF',\r\n    STANDBY_MODE_NETWORK='STANDBY_MODE_NETWORK',\r\n    AUTO_SHUTDOWN_OFF='AUTO_SHUTDOWN_OFF',\r\n    POWER_HOG_ON='POWER_HOG_ON',\r\n    INPUT_SELECT_COMPUTER1 = 'INPUT_SELECT_COMPUTER1',\r\n    INPUT_SELECT_COMPUTER2 = 'INPUT_SELECT_COMPUTER2',\r\n    INPUT_SELECT_VIDEO = 'INPUT_SELECT_VIDEO',\r\n    INPUT_SELECT_YC = 'INPUT_SELECT_YC',\r\n    INPUT_SELECT_DVI = 'INPUT_SELECT_DVI',\r\n    INPUT_SELECT_HDMI1  = 'INPUT_SELECT_HDMI1',\r\n    INPUT_SELECT_HDMI2 = 'INPUT_SELECT_HDMI2',\r\n    INPUT_SELECT_SDI1 = 'INPUT_SELECT_SDI1',\r\n    INPUT_SELECT_DIGITALLINK = 'INPUT_SELECT_DIGITALLINK',\r\n    PROJECTOR_INSTALL_METHOD_FRONT_DESK = 'PROJECTOR_INSTALL_METHOD_FRONT_DESK',\r\n    PROJECTOR_INSTALL_METHOD_REAR_DESK ='PROJECTOR_INSTALL_METHOD_REAR_DESK',\r\n    PROJECTOR_INSTALL_METHOD_FRONT_CEILING = 'PROJECTOR_INSTALL_METHOD_FRONT_CEILING',\r\n    PROJECTOR_INSTALL_METHOD_REAR_CEILING='PROJECTOR_INSTALL_METHOD_REAR_CEILING',\r\n    PROJECTOR_INSTALL_METHOD_FRONT_AUTO = 'PROJECTOR_INSTALL_METHOD_FRONT_AUTO',\r\n    PROJECTOR_INSTALL_METHOD_REAR_AUTO ='PROJECTOR_INSTALL_METHOD_REAR_AUTO',\r\n    OSD_ROTATION_OFF = 'OSD_ROTATION_OFF',\r\n    OSD_ROTATION_CLOCKWISE = 'OSD_ROTATION_CLOCKWISE',\r\n    OSD_ROTATION_COUNTERCLOCKWISE= 'OSD_ROTATION_COUNTERCLOCKWISE',\r\n    LIGHT_OUTPUT = 'LIGHT_OUTPUT'\r\n\r\n\r\n}\r\n\r\n//export type HandleCommand = (command: ControlKeys, text?: string) => void\r\nexport type ControlKeys = keyof typeof ControlCommands\r\n\r\nexport enum PROJECTOR_MAKES {\r\n    PANASONIC = 'PANASONIC',\r\n    BARCO = 'BARCO'\r\n}\r\n\r\n\r\n\r\nexport type PROJECTOR_MAKE = keyof typeof PROJECTOR_MAKES\r\n\r\n\r\nexport enum ConfigHeaders{\r\n    LOCATION = 'LOCATION',\r\n    LAST_UPDATED = 'LAST_UPDATED',\r\n    POLLING = 'POLLING',\r\n    POLLING_INTERVAL = 'POLLING_INTERVAL',\r\n    PATCH = 'PATCH'\r\n    \r\n}\r\ninterface Projector{\r\n    ip_address: string,\r\n    port: number,\r\n    auth: string,\r\n    make: keyof typeof PROJECTOR_MAKES,\r\n    id: number\r\n}\r\nexport type Patch = Record<string,Projector>\r\nexport type Group = {name: string, group: number[]}\r\nexport type Groups = Record<number, Group>\r\nexport interface Config {\r\n    Patch: Patch,\r\n    Location: string,\r\n    LastUpdated: string,\r\n    Polling: boolean,\r\n    Polling_Interval: number,\r\n    Groups: Groups\r\n}\r\n\r\n\r\nexport type ConfigKeys = keyof typeof ConfigHeaders\r\nexport const defaultConfig: Config = {\r\n    Patch: {},\r\n    Location: '',\r\n    LastUpdated: Date(),\r\n    Polling: false,\r\n    Polling_Interval: 60000,\r\n    Groups: {0:{name:'All',group:[]}}\r\n}\r\n\r\nexport type HandleCommand = (cmd: ControlKeys, text?: string )=> void\r\n\r\nexport const ButtonStyle: CSSProperties={\r\n\r\n    width: '150px',\r\n    height: '50px',\r\n    marginBottom: 1\r\n\r\n}","import {Button, ButtonGroup, Paper} from '@material-ui/core'\r\nimport './numberpad.css'\r\n\r\nimport * as C from '../util/constants'\r\ninterface numberpad_props{\r\n    handlePad: (e: string)=>void\r\n}\r\nexport default function Numberpad(props:numberpad_props){\r\n    const {handlePad} =props\r\n    \r\n    const getButtons=()=>{\r\n     \r\n        return C.keys.map(key=>{\r\n            let w = key === C.ioCommands.STORE_GROUP? '125px' : '75px'\r\n            return <Button variant=\"contained\" style={{margin: 2, padding: '10px', width: w, touchAction: 'manuplation'}} size={'large'} key={key} onClick={(e)=>handlePad(key)} >{key}</Button>     \r\n        })\r\n    }\r\n\r\n    const buttonGroups=()=>{\r\n        let buttons = getButtons()\r\n        let groups =[]\r\n        let chunk = 3\r\n        for(let i=0; i<=buttons.length-chunk; i+=chunk){\r\n           \r\n            let g = buttons.slice(i,chunk+i)\r\n           \r\n            groups.push(\r\n                <ButtonGroup key={'pad_group'+i}>\r\n                   {g}\r\n                </ButtonGroup>\r\n             \r\n            )\r\n        }\r\n        return groups\r\n    }\r\n    return (\r\n        <Paper style={{touchAction: 'manuplation'}}elevation={1} className='pad'>\r\n            \r\n            {buttonGroups()}\r\n            {getButtons()[C.keys.length-1]}\r\n            \r\n        </Paper>\r\n\r\n    )\r\n}","import { Dialog, DialogTitle, Button, ButtonGroup } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"react\";\r\nimport { ControlKeys, ControlCommands } from '../util/constants'\r\ninterface BlendDialog_Props {\r\n    open: boolean,\r\n    handleClose: () => void,\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\n\r\nexport default function BlendDialog(props: BlendDialog_Props) {\r\n    const { open, handleClose, handleCommand } = props\r\n    const buttonStyle: CSSProperties = {\r\n        padding: '20px',\r\n        width: '140px'\r\n\r\n       \r\n    }\r\n    const buttonGroupStyle: CSSProperties = {\r\n        justifyContent: 'center',\r\n        textAlign: 'center',\r\n        margin: 'auto'\r\n       \r\n        \r\n    }\r\n    return (\r\n        <Dialog key='blend_dialog'  onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n            <DialogTitle style={buttonGroupStyle} key='menu_dialog_title' id=\"simple-dialog-title\">Blending</DialogTitle>\r\n            <div key='blend_div' style={{width:300, justifyContent: 'center', textAlign: 'center'}}>\r\n            <ButtonGroup style={buttonGroupStyle} key='blend_main_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='blend_on' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_ON)} >Edge Blend On</Button>\r\n                <Button style={buttonStyle} key='blend_off' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_OFF)} >Edge Blend Off</Button>\r\n            </ButtonGroup>\r\n\r\n            <br></br>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='makers_main_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='markers_on' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_MARKERS_ON)} >Markers On</Button>\r\n                <Button style={buttonStyle} key='markers_off' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_MARKERS_OFF)} >Markers Off</Button>\r\n            </ButtonGroup>\r\n\r\n            <br></br>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='upper_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='upper_on' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_UPPER_ON)} >Uppere On</Button>\r\n                <Button style={buttonStyle} key='upper_off' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_UPPER_OFF)} >Uppper Off</Button>\r\n            </ButtonGroup>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='right_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='right_on' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_RIGHT_ON)} >Right On</Button>\r\n                <Button style={buttonStyle} key='right_off' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_RIGHT_OFF)} >Right Off</Button>\r\n            </ButtonGroup>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='lower_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='lower_on' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_LOWER_ON)} >Lower On</Button>\r\n                <Button style={buttonStyle} key='lower_off' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_LOWER_OFF)} >Lower Off</Button>\r\n            </ButtonGroup>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='left_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='left_on' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_LEFT_ON)} >Left On</Button>\r\n                <Button style={buttonStyle} key='left_off' onClick={(e) => handleCommand(ControlCommands.EDGE_BLENDING_LEFT_OFF)} >Left Off</Button>\r\n            </ButtonGroup>\r\n            </div>\r\n        </Dialog>\r\n    );\r\n}","import { makeStyles } from \"@material-ui/core\";\r\n\r\nexport const dropdownStyle= makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));","import { ControlKeys, ControlCommands } from '../../util/constants'\r\nimport { FormControl, InputLabel, Select, MenuItem, } from '@material-ui/core'\r\nimport { dropdownStyle } from './DropdownStyle'\r\n\r\ninterface TestPatterProps {\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\n\r\n\r\nconst useStyles = dropdownStyle\r\nexport default function Testpattern(props: TestPatterProps) {\r\n    const { handleCommand } = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <>\r\n            <FormControl className={classes.formControl}>\r\n                <InputLabel id='test_pattren'>Test Pattren</InputLabel>\r\n                <Select labelId='test_pattren' id='test_pattren_select'\r\n                    value={''} onChange={((e) => handleCommand(e.target.value as ControlKeys))}>\r\n                    <MenuItem value={ControlCommands.TEST_PATTERN_OFF}>Off</MenuItem>\r\n                    <MenuItem value={ControlCommands.TEST_PATTERN_WHITE}>White</MenuItem>\r\n                    <MenuItem value={ControlCommands.TEST_PATTERN_BLACK}>Black</MenuItem>\r\n                    <MenuItem value={ControlCommands.TEST_PATTERN_FOCUS_RED}>Focus Red</MenuItem>\r\n                    <MenuItem value={ControlCommands.TEST_PATTERN_FOCUS_WHITE}>Focus White</MenuItem>\r\n                </Select>\r\n\r\n            </FormControl>\r\n        </>)\r\n}","import { Dialog, DialogTitle, Button, ButtonGroup } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"react\";\r\nimport { ControlCommands, HandleCommand } from '../util/constants'\r\n\r\nimport Testpattern from \"./CommandInterfaces/Testpattern\";\r\n\r\nconst validMenuKeys = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9','m', 'Enter', 'Backspace', 'ArrowUp', 'ArrowRight', 'ArrowLeft', 'ArrowDown'];\r\ninterface MenuDialog_Props {\r\n    open: boolean,\r\n    handleClose: () => void,\r\n    handleCommand: HandleCommand\r\n}\r\n\r\nexport default function MenuDialog(props: MenuDialog_Props) {\r\n    const { open, handleClose, handleCommand } = props\r\n\r\n    const buttonStyle: CSSProperties = {\r\n        padding: '20px',\r\n        width: '100px',\r\n\r\n    }\r\n    const buttonGroupStyle: CSSProperties = {\r\n        justifyContent: 'center',\r\n        textAlign: 'center'\r\n\r\n    }\r\n    //@ts-ignore\r\n    document.onkeydown = ((e) => {\r\n        //console.log('Key Pressed',e.key)\r\n        if (!open) return\r\n\r\n        let key = e.key\r\n        //console.log('Menu Got',key)\r\n        if (!validMenuKeys.includes(key)) return\r\n        \r\n        switch (key) {\r\n            case '0':\r\n                handleCommand(ControlCommands.NUMBER_KEY_0)\r\n                break;\r\n            case '1':\r\n                handleCommand(ControlCommands.NUMBER_KEY_1)\r\n                break;\r\n            case '2':\r\n                handleCommand(ControlCommands.NUMBER_KEY_2)\r\n                break\r\n            case '3':\r\n                handleCommand(ControlCommands.NUMBER_KEY_3)\r\n                break\r\n            case '4':\r\n                handleCommand(ControlCommands.NUMBER_KEY_4)\r\n                break\r\n            case '5':\r\n                handleCommand(ControlCommands.NUMBER_KEY_5)\r\n                break\r\n            case '6':\r\n                handleCommand(ControlCommands.NUMBER_KEY_5)\r\n                break\r\n            case '7':\r\n                handleCommand(ControlCommands.NUMBER_KEY_7)\r\n                break\r\n            case '8':\r\n                handleCommand(ControlCommands.NUMBER_KEY_8)\r\n                break\r\n            case '9':\r\n                handleCommand(ControlCommands.NUMBER_KEY_9)\r\n                break\r\n            case 'Enter':\r\n                handleCommand(ControlCommands.MENU_ENTER_KEY)\r\n                break\r\n            case 'Backspace':\r\n                handleCommand(ControlCommands.MENU_DEFAULT_KEY)\r\n                break\r\n            case 'ArrowUp':\r\n                handleCommand(ControlCommands.MENU_UP_KEY)\r\n                break\r\n            case 'ArrowDown':\r\n                handleCommand(ControlCommands.MENU_DOWN_KEY)\r\n                break\r\n            case 'ArrowLeft':\r\n                handleCommand(ControlCommands.MENU_LEFT_KEY)\r\n                break\r\n            case 'ArrowRight':\r\n                handleCommand(ControlCommands.MENU_RIGHT_KEY)\r\n                break\r\n            case 'm':\r\n                handleCommand(ControlCommands.MENU)\r\n                break\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    })\r\n\r\n    return (\r\n        <Dialog key='menu_dialog' onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n            <DialogTitle style={buttonGroupStyle} key='menu_dialog_title' id=\"simple-dialog-title\">Menu Commands</DialogTitle>\r\n            <ButtonGroup style={buttonGroupStyle} key='menu_main_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='menu' onClick={(e) => handleCommand(ControlCommands.MENU)} >Menu</Button>\r\n                <Button style={buttonStyle} key='enter' onClick={(e) => handleCommand(ControlCommands.MENU_DEFAULT_KEY)} >Default</Button>\r\n            </ButtonGroup>\r\n\r\n            <br></br>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='menu_row1_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='up' onClick={(e) => handleCommand(ControlCommands.MENU_UP_KEY)} >Up</Button>\r\n            </ButtonGroup>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='menu_row2_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='left' onClick={(e) => handleCommand(ControlCommands.MENU_LEFT_KEY)} >Left</Button>\r\n                <Button style={buttonStyle} key='enter' onClick={(e) => handleCommand(ControlCommands.MENU_ENTER_KEY)} >Enter</Button>\r\n                <Button style={buttonStyle} key='right' onClick={(e) => handleCommand(ControlCommands.MENU_RIGHT_KEY)} >Right</Button>\r\n            </ButtonGroup>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='menu_row3_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='down' onClick={(e) => handleCommand(ControlCommands.MENU_DOWN_KEY)} >Down</Button>\r\n            </ButtonGroup>\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='menu_row4_keys' variant=\"outlined\">\r\n                <Button style={buttonStyle} key='osd on' onClick={(e) => handleCommand(ControlCommands.OSD_ON)}>OSD ON</Button>\r\n                <Button style={buttonStyle} key='osd off' onClick={(e) => handleCommand(ControlCommands.OSD_OFF)}>OSD OFF</Button>\r\n                <Button style={buttonStyle} key='freeze on' onClick={(e) => handleCommand(ControlCommands.FREEZE_ON)}>Freeze ON</Button>\r\n                <Button style={buttonStyle} key='freeze off' onClick={(e) => handleCommand(ControlCommands.FREEZE_OFF)}>Freeze Off</Button>\r\n            </ButtonGroup>\r\n\r\n\r\n            <Testpattern handleCommand={handleCommand} />\r\n\r\n\r\n        </Dialog>\r\n    );\r\n}\r\n\r\n/*\r\n\r\n            <ButtonGroup style={buttonGroupStyle} key='ceiling_mount_keys' variant='outlined'>\r\n                <Button style={buttonStyle} key='ceiling_mount_on' onClick={(e)=>handleCommand(ControlCommands.CEILING_MOUNT_ON)}>Ceiling On</Button>\r\n                <Button style={buttonStyle} key='ceiling_mount_off' onClick={(e)=>handleCommand(ControlCommands.CEILING_MOUNT_OFF)}>Ceiling Off</Button>\r\n            </ButtonGroup>\r\n            <ButtonGroup style={buttonGroupStyle} key='ceiling_mount_keys' variant='outlined'>\r\n                <Button style={buttonStyle} key='power_hog' onClick={(e)=>handleCommand(ControlCommands.POWER_HOG_ON)}>Barco POWER HOG</Button>\r\n\r\n            </ButtonGroup>\r\n            */","import {Button, Dialog, DialogActions, DialogTitle, DialogContent, DialogContentText } from \"@material-ui/core\";\r\nimport { ControlKeys } from \"../util/constants\";\r\ninterface Alert_Props{\r\n    open: boolean,\r\n    handleCommand: (cmd: ControlKeys)=>void,\r\n    handleClose: ()=>void,\r\n    command: ControlKeys,\r\n    header: string,\r\n    message: string\r\n}\r\nexport default function Alert(props: Alert_Props){\r\n    const {open,handleCommand, command, handleClose, header, message} = props\r\n\r\n    const handleClick=(approval: boolean)=>{\r\n        if(approval){\r\n            handleCommand(command)\r\n        }\r\n        handleClose()\r\n\r\n    }\r\n    return (\r\n        <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{header}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            <span style={{width:'50'}}>{message}</span>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={(e)=>handleClick(false)} color=\"primary\">\r\n            Cancle\r\n          </Button>\r\n          <Button onClick={(e)=>handleClick(true)} color=\"primary\" autoFocus>\r\n            Okay\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n        \r\n    )\r\n}","import { ButtonGroup, Button } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { ControlKeys, ControlCommands, ButtonStyle } from \"../../util/constants\";\r\nimport Alert from \"../Alert\";\r\n\r\ninterface Props{\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\nexport default function LensCal(props: Props){\r\n    const {handleCommand} = props\r\n    const [openHomeAlert, setOpenHomeAlert]= useState(false)\r\n    const [openCalAlert, setOpenCalAlert]= useState(false)\r\n    return(\r\n        <div style={{margin:'auto'}}>\r\n        <ButtonGroup key='shutters' color=\"primary\" variant=\"outlined\">\r\n        <Button  key='home'  style={ButtonStyle}  onClick={(e) => setOpenHomeAlert(true)} >Lens Home</Button>\r\n        <Button  key='cal' style={ButtonStyle}  onClick={(e) => setOpenCalAlert(true)} >Lens Cal</Button>\r\n    </ButtonGroup>\r\n    <Alert open={openHomeAlert} handleCommand={handleCommand} handleClose={()=>setOpenHomeAlert(false)}\r\n        header='Home Lense' message='Are you sure?' command={ControlCommands.LENS_POSTION_HOME}/>\r\n        <Alert open={openCalAlert} handleCommand={handleCommand} handleClose={()=>setOpenCalAlert(false)}\r\n        header='Cal Lens' message='Are you sure?' command={ControlCommands.LENS_POSTION_HOME}/>\r\n        </div>\r\n    )\r\n}","import { Dialog, DialogTitle, Button, ButtonGroup, Accordion, AccordionSummary, Typography, AccordionDetails, Container } from \"@material-ui/core\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\nimport { CSSProperties, useState } from \"react\";\r\nimport { ControlKeys, ControlCommands } from '../util/constants'\r\nimport LensCal from \"./CommandInterfaces/LensCal\";\r\ninterface MenuDialog_Props {\r\n    open: boolean,\r\n    handleClose: () => void,\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\n\r\nexport default function MenuDialog(props: MenuDialog_Props) {\r\n    const { open, handleClose, handleCommand } = props\r\n    const [shift, setShift] =useState(false)\r\n    const [focus, setFocus] = useState(false)\r\n    const [zoom, setZoom] = useState(false)\r\n   \r\n    const buttonStyle: CSSProperties = {\r\n        padding: '20px',\r\n        width: '50px',\r\n        touchAction: 'manipulation'\r\n       \r\n    }\r\n    const buttonGroupStyle: CSSProperties = {\r\n        justifyContent: 'center',\r\n        textAlign: 'center'\r\n        \r\n    }\r\n    const close=()=>{\r\n        setShift(false)\r\n        setZoom(false)\r\n        setFocus(false)\r\n        handleClose()\r\n    }\r\n    const getButton=(cmd: ControlKeys, text: string)=>{\r\n        return <Button style={buttonStyle} key={text} onClick={(e)=>handleCommand(cmd)}>{text}</Button>\r\n    }\r\n    return (\r\n        <Dialog key='lens_dialog' onClose={close} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n            <DialogTitle style={buttonGroupStyle} key='menu_dialog_title' id=\"simple-dialog-title\">Lens Commands</DialogTitle>\r\n            <LensCal handleCommand={handleCommand} />\r\n            <Accordion key=\"shift\" style={{width:'100%'}} expanded={shift} onChange={()=>setShift(!shift)}>\r\n                <AccordionSummary expandIcon={<ExpandMore/>} aria-controls='shift' id='shift-panel' >\r\n                    <Typography> Shift</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Container style={{width: '70%', marginLeft: '0', paddingLeft:'0'}}>\r\n            <ButtonGroup style={buttonGroupStyle} key='h_shif' variant=\"outlined\">\r\n            {getButton(ControlCommands.LENS_SHIFT_H_FN, '<<<')}\r\n            {getButton(ControlCommands.LENS_SHIFT_H_NN, '<<')}\r\n            {getButton(ControlCommands.LENS_SHIFT_H_SN, '<')}\r\n                {getButton(ControlCommands.LENS_SHIFT_H_SP, '>')}\r\n                {getButton(ControlCommands.LENS_SHIFT_H_NP, '>>')}\r\n                {getButton(ControlCommands.LENS_SHIFT_H_FP, '>>>')}\r\n            </ButtonGroup>\r\n           \r\n            <br></br>\r\n          \r\n            <ButtonGroup style={buttonGroupStyle} key='v_shift' variant=\"outlined\">\r\n            {getButton(ControlCommands.LENS_SHIFT_V_FN, '^^^')}\r\n            {getButton(ControlCommands.LENS_SHIFT_V_NN, '^^')}\r\n            {getButton(ControlCommands.LENS_SHIFT_V_SN, '^')}\r\n                {getButton(ControlCommands.LENS_SHIFT_V_SP, 'v')}\r\n                {getButton(ControlCommands.LENS_SHIFT_V_NP, 'vv')}\r\n                {getButton(ControlCommands.LENS_SHIFT_V_FP, 'vvv')}\r\n            </ButtonGroup>\r\n            </Container>\r\n            </AccordionDetails>\r\n            </Accordion>\r\n            <br></br>\r\n            <Accordion key=\"shift\" expanded={focus} onChange={()=>setFocus(!focus)}>\r\n                <AccordionSummary expandIcon={<ExpandMore/>} aria-controls='focus' id='focus-panel' >\r\n                    <Typography> Focus</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                <Container style={{width: '70%', marginLeft: '0', paddingLeft:'0'}}>\r\n            <ButtonGroup style={buttonGroupStyle} key='foucs' variant=\"outlined\">\r\n            {getButton(ControlCommands.LENS_FOCUS_FN, '<<<\\r')}\r\n            {getButton(ControlCommands.LENS_FOCUS_NN, '<<\\r')}\r\n            {getButton(ControlCommands.LENS_FOCUS_SN, '<\\r')}\r\n            {getButton(ControlCommands.LENS_FOCUS_SP, '>\\r')}\r\n            {getButton(ControlCommands.LENS_FOCUS_NP, '>>\\r')}\r\n            {getButton(ControlCommands.LENS_FOCUS_FP, '>>>\\r')}\r\n            </ButtonGroup>\r\n            </Container>\r\n            </AccordionDetails>\r\n            </Accordion>\r\n            <br></br>\r\n            <Accordion key=\"zoom\" expanded={zoom} onChange={()=>setZoom(!zoom)}>\r\n                <AccordionSummary expandIcon={<ExpandMore/>} aria-controls='zoom' id='zoom-panel' >\r\n                    <Typography> Zoom</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                <Container style={{width: '70%', marginLeft: '0', paddingLeft:'0'}}>\r\n            <ButtonGroup style={buttonGroupStyle} key='zoom' variant=\"outlined\">\r\n            {getButton(ControlCommands.LENS_ZOOM_FN, '---')}\r\n            {getButton(ControlCommands.LENS_ZOOM_NN, '--')}\r\n            {getButton(ControlCommands.LENS_ZOOM_SN, '-')}\r\n            {getButton(ControlCommands.LENS_ZOOM_SP, '+')}\r\n            {getButton(ControlCommands.LENS_ZOOM_NP, '++')}\r\n            {getButton(ControlCommands.LENS_ZOOM_FP, '+++')}\r\n            </ButtonGroup>\r\n            </Container>\r\n            </AccordionDetails>\r\n            </Accordion>\r\n\r\n\r\n        </Dialog>\r\n    );\r\n}","import { ButtonGroup, Button } from \"@material-ui/core\";\r\nimport { useState } from \"react\";\r\nimport { ControlKeys, ControlCommands, ButtonStyle } from \"../../util/constants\";\r\nimport Alert from \"../Alert\";\r\n\r\ninterface PowerProps{\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\nexport default function Power(props: PowerProps){\r\n    const {handleCommand} = props\r\n    const [openPowerOnAlert, setOpenPowerOnAlert]= useState(false)\r\n    const [openPowerOffAlert, setOpenPowerOffAlert]= useState(false)\r\n    return(\r\n        <>\r\n        <ButtonGroup key='shutters' color=\"primary\" variant=\"outlined\">\r\n        <Button  key='power off'  style={ButtonStyle}  onClick={(e) => setOpenPowerOffAlert(true)} >Power Off</Button>\r\n        <Button  key='power on' style={ButtonStyle}  onClick={(e) => setOpenPowerOnAlert(true)} >Power On</Button>\r\n    </ButtonGroup>\r\n    <Alert open={openPowerOffAlert} handleCommand={handleCommand} handleClose={()=>setOpenPowerOffAlert(false)}\r\n        header='Power Off' message='Are you sure?' command={ControlCommands.POWER_OFF}/>\r\n        <Alert open={openPowerOnAlert} handleCommand={handleCommand} handleClose={()=>setOpenPowerOnAlert(false)}\r\n        header='Power On' message='Are you sure?' command={ControlCommands.POWER_ON}/>\r\n        </>\r\n    )\r\n}","import { ButtonGroup, Button } from \"@material-ui/core\"\r\nimport { ControlKeys, ControlCommands, ButtonStyle } from \"../../util/constants\"\r\n\r\ninterface ShutterProps{\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\nexport default function Shutter(props: ShutterProps){\r\n    const {handleCommand} = props\r\n    return (\r\n        <ButtonGroup key='power' color=\"primary\" variant=\"outlined\">\r\n        <Button  key='shutter_on' style={ButtonStyle} onClick={(e) => handleCommand(ControlCommands.SHUTTER_CLOSED)} >Shutter Closed(i)</Button>\r\n        <Button  key='sutter_off' style={ButtonStyle}  onClick={(e) => handleCommand(ControlCommands.SHUTTER_OPEN)} >Shutter Open(o)</Button>\r\n        </ButtonGroup>\r\n    )\r\n}","import {ControlKeys, ControlCommands} from '../../util/constants'\r\nimport {FormControl, InputLabel, Select, MenuItem} from '@material-ui/core'\r\nimport { dropdownStyle } from './DropdownStyle'\r\n\r\ninterface Props{\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\n\r\n\r\nconst useStyles = dropdownStyle\r\nexport default function BackColor(props: Props){\r\n    const {handleCommand} = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <>\r\n    <FormControl className={classes.formControl}>\r\n    <InputLabel id='backcolor'>Back Color</InputLabel>\r\n    <Select labelId='backcolor' id='backcolor'\r\n     value={''} onChange={((e)=> handleCommand(e.target.value as ControlKeys))}>\r\n         <MenuItem value={ControlCommands.BACK_COLOR_BLUE}>Blue</MenuItem>\r\n         <MenuItem value={ControlCommands.BACK_COLOR_BLACK}>Black</MenuItem>\r\n         <MenuItem value={ControlCommands.BACK_COLOR_DEFAULT_LOGO}>Default Logo</MenuItem>\r\n         <MenuItem value={ControlCommands.BACK_COLOR_USER_LOGO}>User Logo</MenuItem>\r\n     </Select>\r\n     \r\n</FormControl>\r\n</> )\r\n}","import {ControlKeys, ControlCommands} from '../../util/constants'\nimport {FormControl, InputLabel, Select, MenuItem} from '@material-ui/core'\nimport { dropdownStyle } from './DropdownStyle'\n\ninterface Props{\n    handleCommand: (e: ControlKeys) => void\n}\n\n\nconst useStyles = dropdownStyle\nexport default function InputSelection(props: Props){\n    const {handleCommand} = props\n    const classes = useStyles()\n\n    return (\n        <>\n    <FormControl key='input_fc' className={classes.formControl}>\n    <InputLabel key='input_il' id='input'>Input</InputLabel>\n    <Select key='input_select' labelId='input' id='input'\n     value={''} onChange={((e)=> handleCommand(e.target.value as ControlKeys))}>\n         <MenuItem key='inhdmi1' value={ControlCommands.INPUT_SELECT_HDMI1}>HDMI 1</MenuItem>\n         <MenuItem key='inhdmi2' value={ControlCommands.INPUT_SELECT_HDMI2}>HDMI 2</MenuItem>\n         <MenuItem key='inc1' value={ControlCommands.INPUT_SELECT_COMPUTER1}>Computer 1</MenuItem>\n         <MenuItem key='inc2' value={ControlCommands.INPUT_SELECT_COMPUTER2}>Compuer 2</MenuItem>\n         <MenuItem key='indl' value={ControlCommands.INPUT_SELECT_DIGITALLINK}>Digital Link</MenuItem>\n         <MenuItem key='indvi' value={ControlCommands.INPUT_SELECT_DVI}>DVI</MenuItem>\n         <MenuItem key='insdi1' value={ControlCommands.INPUT_SELECT_SDI1}>SDI 1</MenuItem>\n         <MenuItem key='invid' value={ControlCommands.INPUT_SELECT_VIDEO}>Video</MenuItem>\n         <MenuItem key='inyc' value={ControlCommands.INPUT_SELECT_YC}>Y/C</MenuItem>\n     </Select>\n     \n</FormControl>\n</> )\n}","import {ControlKeys, ControlCommands} from '../../util/constants'\r\nimport {FormControl, InputLabel, Select, MenuItem} from '@material-ui/core'\r\nimport { dropdownStyle } from './DropdownStyle'\r\n\r\ninterface OSDProps{\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\n\r\n\r\nconst useStyles = dropdownStyle\r\nexport default function OSDPostion(props: OSDProps){\r\n    const {handleCommand} = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <>\r\n    <FormControl className={classes.formControl}>\r\n    <InputLabel id='osd_position'>OSD Position</InputLabel>\r\n    <Select labelId='osd_position' id='osd_postion'\r\n     value={''} onChange={((e)=> handleCommand(e.target.value as ControlKeys))}>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_UPPER_LEFT}>Upper Left</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_CENTER_LEFT}>Center Left</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_LOWER_LEFT}>Lower Left</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_TOP_CENTER}>Top Center</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_CENTER}>Center</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_LOWER_CENTER}>Lower Center</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_UPPER_RIGHT}>Upper Right</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_POSITION_LOWER_RIGHT}>Lower Right</MenuItem>\r\n     </Select>\r\n     \r\n</FormControl>\r\n</> )\r\n}","import {ControlKeys, ControlCommands, HandleCommand} from '../../util/constants'\r\nimport {FormControl, InputLabel, Select, MenuItem} from '@material-ui/core'\r\nimport { dropdownStyle } from './DropdownStyle'\r\n\r\ninterface Props{\r\n    handleCommand: HandleCommand\r\n}\r\n\r\n\r\nconst useStyles = dropdownStyle\r\nexport default function OSDRotation(props: Props){\r\n    const {handleCommand} = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <>\r\n    <FormControl className={classes.formControl}>\r\n    <InputLabel id='osdRotation'>OSD Rotation</InputLabel>\r\n    <Select labelId='osdRotation' id='osdRotation'\r\n     value={''} onChange={((e)=> handleCommand(e.target.value as ControlKeys))}>\r\n         <MenuItem value={ControlCommands.OSD_ROTATION_OFF}>Off</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_ROTATION_CLOCKWISE}>Clockwise</MenuItem>\r\n         <MenuItem value={ControlCommands.OSD_ROTATION_COUNTERCLOCKWISE}>Counter Clockwise</MenuItem>\r\n     </Select>\r\n     \r\n</FormControl>\r\n</> )\r\n}","import {ControlKeys, ControlCommands} from '../../util/constants'\r\nimport {FormControl, InputLabel, Select, MenuItem} from '@material-ui/core'\r\nimport { dropdownStyle } from './DropdownStyle'\r\n\r\ninterface OSDProps{\r\n    handleCommand: (e: ControlKeys) => void\r\n}\r\n\r\n\r\nconst useStyles = dropdownStyle\r\nconst id = 'pj_postion'\r\nexport default function PJPositon(props: OSDProps){\r\n    const {handleCommand} = props\r\n    const classes = useStyles()\r\n    \r\n    return (\r\n        <>\r\n    <FormControl className={classes.formControl}>\r\n    <InputLabel id={id}>PJ Position</InputLabel>\r\n    <Select labelId={id} id={id}\r\n     value={''} onChange={((e)=> handleCommand(e.target.value as ControlKeys))}>\r\n         <MenuItem key='fa' value={ControlCommands.PROJECTOR_INSTALL_METHOD_FRONT_AUTO}>Front/Auto</MenuItem>\r\n         <MenuItem key='fc' value={ControlCommands.PROJECTOR_INSTALL_METHOD_FRONT_CEILING}>Front/Ceiling</MenuItem>\r\n         <MenuItem key='fd' value={ControlCommands.PROJECTOR_INSTALL_METHOD_FRONT_DESK}>Front/Desk</MenuItem>\r\n         <MenuItem key='ra' value={ControlCommands.PROJECTOR_INSTALL_METHOD_REAR_AUTO}>Rear/Auto</MenuItem>\r\n         <MenuItem key='rc' value={ControlCommands.PROJECTOR_INSTALL_METHOD_REAR_CEILING}>Rear/Ceiling</MenuItem>\r\n         <MenuItem key='rd' value={ControlCommands.PROJECTOR_INSTALL_METHOD_REAR_DESK}>Rear/Desk</MenuItem>\r\n     </Select>\r\n     \r\n</FormControl>\r\n</> )\r\n}","import { Box, Slider,Typography } from \"@material-ui/core\";\r\nimport { ChangeEvent, useState } from \"react\";\r\nimport { ControlKeys, HandleCommand } from \"../../util/constants\";\r\n\r\ninterface slider_props{\r\n    handleCommand: HandleCommand\r\n    cmd: ControlKeys\r\n    min: number\r\n    max: number\r\n    label: string\r\n}\r\nexport default function QuickSlider(props: slider_props){\r\n    const {handleCommand,cmd, min,max, label}=props\r\n    const [value, setValue] =useState(max)\r\n    const handleChange=(event: ChangeEvent<{}>, newValue: number | number[])=>{\r\n        console.log('sliddder',newValue)\r\n        setValue(newValue as number)\r\n        handleCommand(cmd,newValue+'')\r\n\r\n    }\r\n    return(\r\n    <Box style={{width:200}}>\r\n        <Typography id=\"input-slider\" gutterBottom>\r\n        {label}\r\n      </Typography>\r\n        <Slider value={value} min={min} max={max} onChange={handleChange}/>\r\n    </Box>\r\n\r\n    )\r\n}","import { Dialog, DialogTitle, Button, TextField, Container, Fade } from \"@material-ui/core\";\r\nimport { CSSProperties, useState, useEffect } from \"react\";\r\nimport { ControlKeys, ControlCommands, HandleCommand, PJ_OBJ } from '../util/constants'\r\nimport BackColor from \"./CommandInterfaces/BackColor\";\r\nimport InputSelection from \"./CommandInterfaces/InputSelection\";\r\nimport OSDPostion from \"./CommandInterfaces/OSDPostion\";\r\nimport OSDRotation from \"./CommandInterfaces/OSDRotation\";\r\nimport PJPositon from \"./CommandInterfaces/PJPostion\";\r\nimport QuickSlider from \"./CommandInterfaces/QuickSlider\";\r\ninterface Props {\r\n    open: boolean,\r\n    handleClose: () => void,\r\n    handleCommand: HandleCommand,\r\n    active: number[],\r\n    pj: PJ_OBJ\r\n}\r\n\r\nexport default function ProjectorSetup(props: Props) {\r\n    const { open, handleClose, handleCommand, pj, active } = props\r\n    const [name, setName] = useState( '' )\r\n    const [ID, setID] = useState('')\r\n    const buttonStyle: CSSProperties = {\r\n        padding: '20px',\r\n        width: '100px',\r\n        margin: 'auto'\r\n       \r\n    }\r\n    const buttonGroupStyle: CSSProperties = {\r\n        justifyContent: 'center',\r\n        textAlign: 'center'\r\n        \r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(pj && pj.name){\r\n            setName(pj.name)\r\n        }\r\n    },[pj])\r\n   \r\n\r\n\r\n    const handleClick=(cmd: ControlKeys)=>{\r\n        switch (cmd){\r\n            case ControlCommands.PROJECTOR_NAME:\r\n                handleCommand(cmd, name)\r\n                break\r\n            case ControlCommands.PROJECTOR_ID:\r\n                handleCommand(cmd, ID)\r\n                break;\r\n        }\r\n       \r\n        handleClose()\r\n    }\r\n    \r\n    const getButton=(cmd: ControlKeys, text: string, popUp: boolean)=>{\r\n\r\n        return <Button style={buttonStyle} key={text} onClick={(e)=>handleClick(cmd)}>{text}</Button>\r\n    }\r\n    return (\r\n        <Dialog key='setup_dialog' onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open} >\r\n            <DialogTitle style={buttonGroupStyle} key='menu_dialog_title' id=\"simple-dialog-title\">PJ Setup</DialogTitle>\r\n            <span style={{width:300}}/>\r\n        <OSDPostion handleCommand={handleCommand}/>   \r\n        <OSDRotation handleCommand={handleCommand}/>\r\n        <PJPositon handleCommand={handleCommand}/> \r\n        <BackColor handleCommand={handleCommand}/>\r\n        <InputSelection handleCommand={handleCommand}/>\r\n        <QuickSlider handleCommand={handleCommand} min={50} max={1000} cmd={ControlCommands.LIGHT_OUTPUT} label='Light Output'/>\r\n        {active.length ===1?<>\r\n        <Container key='name'>    \r\n            <TextField key='pj_name_input' label='PJ Name' value={name} onChange={(e)=>setName(e.target.value)}></TextField>\r\n            {getButton(ControlCommands.PROJECTOR_NAME, 'Store Name', true)}\r\n        </Container>    \r\n        <Container key='id'>\r\n            <TextField key='pj_id' label='PJ ID' value={ID} onChange={(e)=>setID(e.target.value)}></TextField>\r\n            {getButton(ControlCommands.PROJECTOR_ID, 'Store ID', true)}\r\n        </Container>\r\n        </>:<></>}\r\n        \r\n        </Dialog>\r\n    );\r\n}","import { Button, Paper, ButtonGroup, } from \"@material-ui/core\";\r\nimport {useState} from 'react'\r\nimport { ButtonStyle, HandleCommand, PJs} from \"../util/constants\";\r\nimport BlendDialog from \"./BlendDialog\";\r\nimport MenuDialog from './MenuDialog'\r\nimport LensDialog from './LensDialog'\r\nimport Power from './CommandInterfaces/Power'\r\nimport Shutter from \"./CommandInterfaces/Shutter\";\r\nimport ProjectorSetupDialog from \"./ProjectorSetupDialog\";\r\nimport { useEffect } from \"react\";\r\n\r\ninterface command_props{\r\n    handleCommand: HandleCommand\r\n    lockCommandLine: (lock: boolean)=> void\r\n    active: number[]\r\n    pjs: PJs\r\n}\r\nexport default function CommandPad(props:command_props){\r\n    const {handleCommand, active, pjs, lockCommandLine } = props\r\n    const [menuOpen, setMenuOpen] = useState(false)\r\n    const [blendOpen, setBlendOpen] = useState(false)\r\n    const [lensOpen,setLensOpen] = useState(false)\r\n    const [pjSetupOpen,setPJSetupOpen] =useState(false)\r\n\r\n    useEffect(()=>{\r\n        if(active.length!==1 || !pjs[active[0]]){\r\n            setPJSetupOpen(false)\r\n        }\r\n    },[active, pjs])\r\n\r\n    useEffect(()=>{\r\n        if(menuOpen || pjSetupOpen){\r\n            lockCommandLine(true)\r\n        }else{\r\n            lockCommandLine(false)\r\n        }\r\n    },[menuOpen, pjSetupOpen,  lockCommandLine])\r\n    \r\n    const getPJ=()=>{\r\n        return pjs[active[0]]\r\n    }\r\n    return(\r\n       <>\r\n        <Paper  key='commandKeys' style={{width:'300px'}}>\r\n           <Shutter handleCommand={handleCommand}/>\r\n            <br></br>\r\n           <Power handleCommand={handleCommand}/>\r\n            <ButtonGroup color=\"primary\" variant=\"outlined\">\r\n                <Button color=\"primary\" key='menu' variant=\"contained\" style={ButtonStyle}  onClick={(e) => setMenuOpen(!menuOpen)} >Menu</Button>\r\n                <Button color=\"primary\" key='blend' variant=\"contained\" style={ButtonStyle}  onClick={(e) => setBlendOpen(!blendOpen)} >Blend</Button>\r\n            </ButtonGroup>\r\n            <ButtonGroup color='primary' variant='outlined'>\r\n                <Button key='lens' variant=\"contained\" style={ButtonStyle} onClick={((e)=>setLensOpen(!lensOpen))}>Lens</Button>\r\n                (<Button key='pj_setup' variant=\"contained\"  style={ButtonStyle} onClick={((e)=>setPJSetupOpen(!pjSetupOpen))}>PJ Setup</Button>)\r\n            </ButtonGroup>\r\n            \r\n            <MenuDialog open={menuOpen} handleClose={()=>setMenuOpen(false)} handleCommand={handleCommand}/>\r\n            <BlendDialog open={blendOpen} handleClose={()=>setBlendOpen(false)} handleCommand={handleCommand}/>\r\n            <LensDialog open={lensOpen} handleClose={()=>setLensOpen(false)} handleCommand={handleCommand} />\r\n            <ProjectorSetupDialog open={pjSetupOpen} handleClose={()=>setPJSetupOpen(false)} active={active} pj={getPJ()} handleCommand={handleCommand} />\r\n        </Paper>\r\n       \r\n        </>\r\n    )\r\n}\r\n","\r\nimport * as C from './constants'\r\n\r\n\r\n\r\nconst log=(s:string)=>{\r\n   // console.log(s)\r\n}\r\nlet _world : number[] =[]\r\nlet _groups :C.Groups = {}\r\nexport function processCMD(cmdLine: string, selected: number[], world: number[], groups: C.Groups) {\r\n    _world = world\r\n    _groups= groups\r\n    cmdLine = cmdLine.trim()\r\n    let cmds = cmdLine.split(' ')\r\n   // console.group('CMDs '+cmds)\r\n  \r\n    let processed = parse(cmds)\r\n    log('Parsed: '+processed)\r\n    processed = handleSelected(processed,selected)\r\n    log('Filtred: '+processed)\r\n\r\n    processed = processed.filter(p=> world.includes(p))\r\n    log('Worlds: '+processed)\r\n   // console.groupEnd()\r\n    return processed\r\n}\r\n\r\nfunction handleSelected(processed: number[], selected: number[]):number[]{\r\n    let newSelected = selected\r\n    \r\n    for(let i=0; i<processed.length; i++){\r\n        let p = processed[i]\r\n        if(p<0 && newSelected.includes(p*-1)){\r\n            newSelected = newSelected.filter((n)=> n!== (p*-1))\r\n        } else if(!newSelected.includes(p) && p>0){\r\n            newSelected.push(p)\r\n        }\r\n    }\r\n    return newSelected\r\n    \r\n}\r\n\r\nfunction parse(cmdArray: string[], parsed: number[] = []): number[] {\r\n    \r\n    if (cmdArray.length === 0){ \r\n        //log('Parsing Tree Complete')\r\n       // console.groupEnd()\r\n        return parsed;\r\n    }\r\n    //console.group('Parsing: '+cmdArray+ ' |  '+parsed)\r\n    switch (cmdArray[0]) {\r\n        case C.commands.THRU:\r\n            log('Parsing THRU')\r\n            return parseThru(cmdArray, parsed)\r\n        case C.commands.GROUP:\r\n            log('Parsing GROUP')\r\n            return parseGroup(cmdArray,parsed)\r\n        case '-':\r\n            log('Parsing Negative')\r\n            return parseNegative(cmdArray, parsed)\r\n        case '+':\r\n            log('Parsing Postive')\r\n            return parsePostive(cmdArray,parsed)\r\n        default:\r\n            log('Parsing Number')\r\n            return parseNumber(cmdArray, parsed)\r\n    }\r\n}\r\nfunction parseNumber(cmdArray: string[], parsed: number[]): number[] {\r\n    if (!cmdArray) return []\r\n    let i = Number.parseInt(cmdArray[0])\r\n    \r\n    if (isFinite(i)) {\r\n        parsed.push(i)\r\n     //   log('parsedNumber: '+i+' | '+parsed)\r\n        return parse(cmdArray.slice(1), parsed)\r\n    }\r\n    console.error('Invalid Number', i)\r\n    return parsed\r\n\r\n}\r\n\r\nfunction parsePostive(cmdArray:string[], parsed: number[]):number[]{\r\n    if(!cmdArray) return []\r\n    let i = 1\r\n  //  log('CMD Lenght: '+cmdArray.length)\r\n  //  log(i+' '+cmdArray[i])\r\n    while(cmdArray[i+1] !=='+' && cmdArray[i+1] !== '-' && i< cmdArray.length){\r\n        i++\r\n      //  log(i+' '+cmdArray[i]+' '+(cmdArray[i]==='+'))\r\n    }\r\n    let slice = []\r\n    if(i===1){\r\n        slice = cmdArray.slice(1,2)\r\n    } else{\r\n        slice = cmdArray.slice(1,i+1)\r\n    }\r\n    log(cmdArray+' | Postive Slice ('+ cmdArray[i] + ' @ '+i+') '+slice)\r\n    let sub = parse(slice)\r\n\r\n    \r\n //   log('Sub '+sub+ ' | '+cmdArray[i+1]+' i:'+ i + ' ' +cmdArray.slice(i+1))\r\n    return parse(cmdArray.slice(i+1),parsed.concat(sub))\r\n}\r\n\r\nfunction parseNegative(cmdArray: string[], parsed: number[]): number[] {\r\n  \r\n        if(!cmdArray) return []\r\n        let i = 1\r\n   //     log('CMD Lenght: '+cmdArray.length)\r\n   //    log(i+' '+cmdArray[i])\r\n        while(cmdArray[i+1] !=='+' && cmdArray[i+1] !== '-' && i< cmdArray.length){\r\n            i++\r\n     //       log(i+' '+cmdArray[i]+' '+(cmdArray[i]==='+'))\r\n        }\r\n        let slice = []\r\n        if(i===1){\r\n            slice = cmdArray.slice(1,2)\r\n        } else{\r\n            slice = cmdArray.slice(1,i+1)\r\n        }\r\n        log(cmdArray+' | Negative Slice ('+ cmdArray[i] + ' @ '+i+') '+slice)\r\n        let sub = parse(slice)\r\n \r\n        for(let n=0; n<sub.length;n++){\r\n            sub[n] = sub[n]*-1\r\n        }\r\n     //   log('Sub '+sub+ ' | '+cmdArray[i+1]+' i:'+ i + ' ' +cmdArray.slice(i+1))\r\n        return parse(cmdArray.slice(i+1),parsed.concat(sub))\r\n\r\n}\r\nfunction parseThru(cmdArray: string[], parsed:number[]):number[] {\r\n    if(cmdArray.length ===0) return []\r\n    let i = parsed.pop()\r\n    if(!i) { \r\n        console.error('Invalid THRU Placement. Number Must Procced THRU CMD')\r\n        return []\r\n    }\r\n  //  log(''+cmdArray.slice(1))\r\n    let n = parse(cmdArray.slice(1,2))[0]\r\n    if(!n){\r\n        n = Math.max(..._world)\r\n        //console.error('Invaild THRU Placement. Number Must Follow THRU CMD', n)\r\n        //return []\r\n    }\r\n    let sub = []\r\n    let negative = 1\r\n    if(i<0){\r\n        i = i*-1\r\n        negative = -1\r\n    }\r\n    if(i<n){\r\n        for(let x = i; x<=n;x++){\r\n            sub.push(x*negative)\r\n        }\r\n    } else{\r\n        for(let x=n; x<=i; x++){\r\n            sub.push(x*negative)\r\n        }\r\n    }\r\n    return parse(cmdArray.slice(2),parsed.concat(sub))\r\n\r\n}\r\nfunction parseGroup(cmdArray: string[], parsed:number[]):number[]{\r\n    if(cmdArray.length < 1) return []\r\n    log(cmdArray+' '+parseInt(cmdArray[0])+'')\r\n    let g = _groups[parseInt(cmdArray[1])]\r\n    console.table(_groups)\r\n    if(!g) return []\r\n    log('Group '+g)\r\n    return parse(cmdArray.slice(3),parsed.concat(g.group))\r\n}","import { Button, } from \"@material-ui/core\";\r\nimport { CSSProperties } from \"react\";\r\n\r\nimport { PJ_OBJ } from \"../util/constants\";\r\n\r\n\r\n\r\ninterface PJCardProps{\r\n    pj_tupple: {pj:PJ_OBJ,selected: boolean, active: boolean}\r\n    handlePJCard: (pjID: number) => void;\r\n}\r\nexport default function PJCard(props:PJCardProps){\r\n    const {pj_tupple, handlePJCard} = props\r\n    let pj = pj_tupple.pj\r\n\r\n    //const classes = useStyles();\r\n\r\n    const cardStyle: CSSProperties={\r\n      \r\n        background: pj_tupple.active? 'gray': 'white',\r\n        border: pj_tupple.selected? 'thick solid cornflowerBlue' : 0,\r\n        color: pj_tupple.active || pj_tupple.selected? 'lightwhite': 'black',   \r\n        width: 80,\r\n        height: 50\r\n    }\r\n    \r\n    return(\r\n       \r\n       <Button variant='contained'  style={cardStyle} onClick={()=>handlePJCard(pj.id)}>{pj.id}\r\n       </Button>\r\n       \r\n       \r\n    )\r\n}\r\n/*\r\n <Card className={classes.root} variant=\"outlined\" style={cardStyle} key={pj.id+'card'}>\r\n            <CardContent>\r\n                <Typography className={classes.title} color={'primary'}>\r\n                    {pj.name? pj.name: ''}\r\n                </Typography>\r\n                <Typography  className={classes.title} color={'primary'}>\r\n                ({pj.id})\r\n                </Typography>\r\n            </CardContent>\r\n        </Card>\r\n        */","import { TableCell, TableRow } from \"@material-ui/core\";\r\nimport { PJ_OBJ } from \"../util/constants\";\r\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\r\nimport { CSSProperties } from \"react\";\r\n\r\ninterface tableProps{\r\n    pj_tupple:  {pj:PJ_OBJ,selected: boolean, active: boolean}\r\n    handlePJSelect: (pjID: number)=> void\r\n}\r\n\r\nexport default function ProgrammerTable(props: tableProps){\r\n    const {pj_tupple, handlePJSelect} = props\r\n    let pj = pj_tupple.pj\r\n\r\n    const getNameFormat= ():CSSProperties =>{\r\n        return{\r\n        background: pj_tupple.active? 'gray': 'white',\r\n        border: pj_tupple.selected? 'thick solid cornflowerBlue' : 0,\r\n        color: pj_tupple.active || pj_tupple.selected? 'lightwhite': 'black',\r\n        }\r\n\r\n    }\r\n    const blendRegion =()=>{\r\n        let color = ''\r\n        let regions = [pj.edgeBlendingUpper, pj.edgeBlendingRight, pj.edgeBlendingLower, pj.edgeBlendingLeft]\r\n        for(let i=0; i < regions.length; i++){\r\n            switch(regions[i]){\r\n                case 'On':\r\n                    color+= ' green'\r\n                    break;\r\n                case 'Off':\r\n                    color+= ' black'\r\n                    break\r\n                case 'Unknown':\r\n                    color+= ' yellow'\r\n                    break\r\n                default:\r\n                    color+=' red'\r\n            }\r\n        }\r\n      \r\n        return (\r\n            <p key={pj.id+'bp'} style={{ padding: 10,  margin:'auto', textAlign: 'center', borderStyle: 'solid', borderColor: color}}> {pj.edgeBlending}\r\n             <BorderColorIcon key={pj.id+'blend'} style={{fontSize:'15', marginLeft: '5', marginTop: 'auto', color:pj.edgeBlendingMarker==='On'?'red':'gray'}} /></p>\r\n        )\r\n    }\r\n    return (\r\n        <TableRow key={pj.id+'row'}>\r\n            <TableCell style={getNameFormat()}key={pj.id+'name'} component='th' scope='row' onClick={()=>{handlePJSelect(pj_tupple.pj.id)}}>\r\n                {pj.name}\r\n            </TableCell>\r\n            <TableCell key={pj.id+'id'}>{pj.id}</TableCell>\r\n            <TableCell key={pj.id+'shutter'}>{pj.shutter}</TableCell>\r\n            <TableCell key={pj.id+'blendregion'}>{blendRegion()}</TableCell>\r\n            <TableCell key={pj.id+'markers'}>{pj.edgeBlendingMarker}</TableCell>\r\n            <TableCell key={pj.id+'test'}>{pj.testPattren}</TableCell>\r\n            <TableCell key={pj.id+'lamp'}>{pj.lampStatus}</TableCell>\r\n            <TableCell key={pj.id+'sig'}>{pj.hdmiResolution}/{pj.hdmiSignalLevel}/{pj.hdmiVerticalFrequency}</TableCell>\r\n            <TableCell key={pj.id+'osd'}>{pj.osdPostion}</TableCell>\r\n\r\n        </TableRow>\r\n    )\r\n}","\r\nimport * as C from '../util/constants'\r\nimport { Paper, makeStyles, Table, TableBody, TableCell, TableContainer, TableHead, TableRow,  Grid, useMediaQuery, GridSize } from '@material-ui/core'\r\nimport { prefres } from \"../prefrences\"\r\nimport {  useMemo, useState } from \"react\"\r\nimport PJCard from \"./PJCard\"\r\nimport ProgrammerTable from \"./ProgrammerTable\"\r\n\r\ninterface Programmer_Props {\r\n    selected: number[],\r\n    active: number[],\r\n    world: number[],\r\n    prefs: prefres,\r\n    status: C.RIG_STATUS,\r\n    pjs: Record<number, C.PJ_OBJ>,\r\n    handleTableSelect: (id: number) => void\r\n}\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    paper: {\r\n        height: 140,\r\n        width: 100,\r\n    },\r\n    table: {\r\n        minWidth: 300,\r\n        maxHeight: 400\r\n    },\r\n    \r\n})\r\nexport default function Programmer(props: Programmer_Props) {\r\n    const { active, world, selected, prefs, pjs, handleTableSelect } = props\r\n    const classes = useStyles()\r\n\r\n\r\n    // const pj = useMemo(()=>getPJ(pjID),[pjID])\r\n/*\r\n    const _getPJs = useMemo(() => {\r\n        world.sort()\r\n        // console.log('Programmer Making PJs')\r\n        return world.map(s => {\r\n\r\n            let pj = pjs[s] ? pjs[s] : {\r\n                id: s,\r\n                online: 'false',\r\n                shutter: 'Unknown',\r\n                power: 'Unknown',\r\n                lastSeen: -1,\r\n                error: 'NOT SEEN',\r\n                lampStatus: 'Unknown',\r\n                edgeBlending: 'Unknown',\r\n                edgeBlendingMarker: 'Unknown',\r\n                testPattren: 'Unknown',\r\n                backColor: 'Unknown',\r\n                edgeBlendingLeft: 'Unknown',\r\n                edgeBlendingLower: 'Unknown',\r\n                edgeBlendingRight: 'Unknown',\r\n                edgeBlendingUpper: 'Unknown',\r\n                hdmiResolution: 'Unknown',\r\n                hdmiSignalLevel: 'Unknown',\r\n                hdmiVerticalFrequency: 'Unknown',\r\n                osdPostion: 'Unknown',\r\n                inputSignalName_Main: 'Unknown',\r\n                name: 'Unknown'\r\n            }\r\n            if ((prefs.showOnlySelected && selected.includes(s)) || !prefs.showOnlySelected) {\r\n                return <PJ key={'pj id_' + pj.id} pj={pj} handleTableSelect={handleTableSelect} selected={selected.includes(s)} darkMode={prefs.darkMode} active={active.includes(s)} />\r\n            }\r\n            return <></>\r\n\r\n        })\r\n    }, [world, active, selected, handleTableSelect, prefs.darkMode, prefs.showOnlySelected, pjs])\r\n    */\r\n    const getPJs = useMemo(() => {\r\n      //  console.groupCollapsed('Recomputing PJ List')\r\n       // console.log('Active', active)\r\n       // console.log('Selected', selected)\r\n        console.groupEnd();\r\n        world.sort()\r\n        let pjList: { pj: C.PJ_OBJ, selected: boolean, active: boolean }[] = []\r\n        world.forEach(s => {\r\n            let pj = pjs[s] ? pjs[s] :\r\n                {\r\n                    id: s,\r\n                    online: 'false',\r\n                    shutter: 'Unknown',\r\n                    power: 'Unknown',\r\n                    lastSeen: -1,\r\n                    error: 'NOT SEEN',\r\n                    lampStatus: 'Unknown',\r\n                    edgeBlending: 'Unknown',\r\n                    edgeBlendingMarker: 'Unknown',\r\n                    testPattren: 'Unknown',\r\n                    backColor: 'Unknown',\r\n                    edgeBlendingLeft: 'Unknown',\r\n                    edgeBlendingLower: 'Unknown',\r\n                    edgeBlendingRight: 'Unknown',\r\n                    edgeBlendingUpper: 'Unknown',\r\n                    hdmiResolution: 'Unknown',\r\n                    hdmiSignalLevel: 'Unknown',\r\n                    hdmiVerticalFrequency: 'Unknown',\r\n                    osdPostion: 'Unknown',\r\n                    inputSignalName_Main: 'Unknown',\r\n                    name: 'Unknown'\r\n                }\r\n            if ((prefs.showOnlySelected && selected.includes(s)) || !prefs.showOnlySelected) {\r\n                pjList.push({ pj, selected: selected.includes(s), active: active.includes(s) })\r\n            }\r\n\r\n        })\r\n        return pjList\r\n\r\n    }, [world, pjs, prefs, selected, active])\r\n\r\n    \r\n    const [spacing, setSpacing] = useState( useMediaQuery('(min-width:600px)')? 2 : 0)\r\n    \r\n    const getCards = () => {\r\n       \r\n        return getPJs.map(pj_tupple => {\r\n            return <Grid key={'g_' + pj_tupple.pj.id} item xs={spacing as GridSize} style={{margin: 'auto'}}>\r\n                <PJCard handlePJCard={handleTableSelect} pj_tupple={pj_tupple} />\r\n            </Grid>\r\n        })\r\n    }\r\n\r\n    const getRows = () => {\r\n        return getPJs.map(pj_tupple => {\r\n\r\n            return <ProgrammerTable handlePJSelect={handleTableSelect} key={pj_tupple.pj.id+'card'} pj_tupple={pj_tupple} />\r\n        })\r\n    }\r\n    /*\r\n    const getStyle = (good = true) => {\r\n        let s: CSSProperties = {\r\n            width: '50',\r\n            textAlign: 'center'\r\n        }\r\n        if (!good)\r\n            s.backgroundColor = prefs.darkMode ? 'red' : 'red'\r\n\r\n        return s\r\n    }*/\r\n    return (\r\n        <>  {prefs.programmerTableView?\r\n            <TableContainer key='pjtablecon' component={Paper}>\r\n                <Table key='pjtablet' className={classes.table} size='small'>\r\n                    <TableHead key='pjtablehead'>\r\n                        <TableRow key='pjtableheadrow'>\r\n                            <TableCell key='pjtable_name'>Name</TableCell>\r\n                            <TableCell key='pjtable_id'>ID</TableCell>\r\n                            <TableCell key='pjtable_shutter'>Shutter</TableCell>\r\n                            <TableCell key='pjtable_blend'>Blend</TableCell>\r\n                            <TableCell key='pjtable_mark'>Blend Marker</TableCell>\r\n                            <TableCell key='pjtable_test'>Test Pattren</TableCell>\r\n                            <TableCell key='pjtable_lamp'>Lamp</TableCell>\r\n                            <TableCell key='pjtable_hdmi'>HDMI</TableCell>\r\n                            <TableCell key='pjtable_osd'>OSD</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {getRows()}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        :\r\n\r\n            <Grid key='programmer' className={classes.root} spacing={2} container>\r\n                {getCards()}\r\n            </Grid>\r\n}\r\n        </>\r\n    )\r\n}\r\n/**\r\n<TableContainer key='p-tc' component={Paper}>\r\n<Table key='p-t' className={classes.table}>\r\n    <TableHead key='p-th'>\r\n        <TableRow key='p-r'>\r\n            <TableCell style={getStyle()} key='p_pj'> PJ </TableCell>\r\n            <TableCell style={getStyle(status.shutter)} key='p_s'> Shutter</TableCell>\r\n            <TableCell style={getStyle(status.blend)} key='p_b'> Blend</TableCell>\r\n            <TableCell style={getStyle(status.blendMarker)} key='p_bm'> Blend Marker</TableCell>\r\n            <TableCell style={getStyle(status.testPattren)} key='p_test'> Test Pattern</TableCell>\r\n            <TableCell style={getStyle(status.lampStatus)} key='p_lamp'> Lamp Status</TableCell>\r\n            <TableCell style={getStyle(status.hdmiInput)} key='p_hdmi'> HDMI Input</TableCell>\r\n            <TableCell style={getStyle(status.signalName)} key='p_signal name'> Signal Name</TableCell>\r\n            <TableCell style={getStyle()} key='p_ls'> Last Seen</TableCell>\r\n\r\n        </TableRow>\r\n    </TableHead>\r\n    <TableBody>\r\n        {getPJs}\r\n    </TableBody>\r\n</Table>\r\n</TableContainer>\r\n*/","import * as C from './constants'\r\n//const puppeteer = require('puppeteer');\r\n\r\nasync function goFetch(query: string){\r\n    let fetchString = C.pjServer+'api/'+query\r\n   // console.log(fetchString)\r\n    try{\r\n    let res = await fetch(fetchString,{\r\n       mode: 'no-cors'\r\n    })\r\n    \r\n   // console.table(res.body)\r\n    if(res.ok){\r\n      //  console.log(await res.text())\r\n        //return await res.json()\r\n        return await res.json()\r\n    }\r\n}catch(e){\r\n    console.log(e)\r\n}\r\n    \r\n    \r\n}\r\n\r\nexport async function getPJ(target:number) {\r\n    let pj = await goFetch('status/?pj='+target)\r\n    if(pj){\r\n        return pj as unknown as C.PJ_OBJ\r\n    }\r\n    return undefined\r\n    \r\n}\r\n\r\nexport async function getPJs(){\r\n    let pjs = await goFetch('status/?pj=all')\r\n    if(pjs){\r\n        return pjs as unknown as Record<number,C.PJ_OBJ>\r\n    }\r\n}\r\nexport async function getRigStatus(){\r\n   // console.log('Getting Rig Status')\r\n    let status = await goFetch('status/?rigstatus=all')\r\n    if(status){\r\n        return status as unknown as C.RIG_STATUS\r\n    }\r\n}\r\n/*\r\nexport async function setConfig(item: C.ConfigHeaders, value: string){\r\n    await goFetch('config/?'+item+\"=\"+value)\r\n}*/\r\n\r\nexport async function setConfig(query: string){\r\n    await goFetch('config/?'+query)\r\n}\r\nexport async function setter(target: number, command:  C.ControlKeys) {\r\n    console.log('Setting ',target,command)\r\n    await goFetch('set/?pj='+target+'&command='+command)\r\n}\r\nexport async function  powerOff(target: number) {\r\n     return await setter(target, C.ControlCommands.POWER_OFF)\r\n}\r\n\r\nexport async function powerOn(target: number) {\r\n    return await setter(target,C.ControlCommands.POWER_ON)\r\n}\r\n\r\nexport async function shutterOn(target:number){\r\n    console.log('Sutter On')\r\n    return await setter(target,C.ControlCommands.SHUTTER_OPEN)\r\n}\r\nexport async function shutterOff(target:number) {\r\n    return await setter(target,C.ControlCommands.SHUTTER_CLOSED)\r\n}\r\n\r\nexport async function menu(target:number) {\r\n    \r\n}\r\n","import { Dialog, DialogTitle , TextField, Select, MenuItem, InputLabel, Button} from \"@material-ui/core\";\r\nimport React, { CSSProperties, useState } from \"react\";\r\nimport {PROJECTOR_MAKES, PROJECTOR_MAKE, Patch} from '../util/constants'\r\ninterface PatchAdd_Props{\r\n    open: boolean,\r\n    handleClose: ()=>void,\r\n    addPJs: (amount: number, startID: number, baseIP: string, port: number, auth: string, make: PROJECTOR_MAKE)=>void,\r\n    currentPatch: Patch\r\n}\r\n\r\nconst style: CSSProperties={\r\n    width: '90%',margin: 'auto', marginBottom: '5px'\r\n    \r\n}\r\nexport default function PatchAddDialog(props: PatchAdd_Props){\r\n    const {open,handleClose, addPJs, currentPatch}= props\r\n\r\n    const getMaxID=()=>{\r\n        let i = -1\r\n        Object.values(currentPatch).forEach(pj=>{\r\n            if(pj.id> i)\r\n                i = pj.id\r\n        })\r\n        if(i===-1)\r\n            return 100\r\n        \r\n            return i\r\n    }\r\n\r\n    const [make, setMake]= useState<PROJECTOR_MAKE>(PROJECTOR_MAKES.PANASONIC)\r\n    const [Amount, setAmount] = useState({value:1,err:''})\r\n    const [StartID, setID] = useState({value:getMaxID()+1,err:''})\r\n    const [BaseIP, setBaseIP]= useState({value:'192.168.10.',err:''})\r\n    const [UserName, setUserName] = useState('admin1')\r\n    const [Pass, setPass] = useState('')\r\n    const [Port, setPort] = useState({value:1024, err:''})\r\n    //const [hasErrors, setHasErrors]= useState(false)\r\n\r\n   \r\n    const getListItems=()=>{\r\n        return Object.values(PROJECTOR_MAKES).map(key=>{\r\n            //console.log(key)\r\n            return <MenuItem key={key} value={key}>{key}</MenuItem>\r\n        })\r\n    }\r\n    const handleSubmit=()=>{\r\n        let auth = ''\r\n        if(make === PROJECTOR_MAKES.PANASONIC){\r\n            auth = UserName+\":\"+Pass\r\n        }\r\n        addPJs(Amount.value,StartID.value,BaseIP.value,Port.value, auth,make)\r\n    }\r\n    const handleMake=(e: React.ChangeEvent<{value:unknown}>)=>{\r\n        setMake(e.target.value as PROJECTOR_MAKE)\r\n    }\r\n    const getBaseStart=()=>{\r\n        return parseInt(BaseIP.value.split('.')[3])\r\n    }\r\n    const checkOverlap=(startID: number, amount: number)=>{\r\n        for(let i = startID; i<amount+startID; i++){\r\n            let t = false\r\n            Object.values(currentPatch).forEach(pj=>{\r\n                if(pj.id === i)\r\n                    t = true\r\n            })\r\n            if(t)\r\n                return true\r\n        }\r\n        return false\r\n    }\r\n    const handleAmount=(e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>)=>{\r\n        let value = parseInt(e.target.value)\r\n        let err= ''\r\n        if(value<1 || isNaN(value)){\r\n            err='Invalid Number'\r\n        } else if(checkOverlap(StartID.value, value)){\r\n            err='Will Overlap Other IDs'\r\n        }\r\n\r\n        setAmount({value,err})\r\n    }\r\n    \r\n    const handleID=(e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>)=>{\r\n        let value = parseInt(e.target.value)\r\n        let err= ''\r\n        if(value<1 || isNaN(value)){\r\n            err='Invalid Number'\r\n        } else if(getBaseStart()+Amount.value >254){\r\n            err='Will Land Outside Base IP Range'\r\n        } else if(checkOverlap(value, Amount.value)){\r\n            err='Will Overlap Other IDs'\r\n        }\r\n        setID({value,err})\r\n    }\r\n    const handlePort=(e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>)=>{\r\n        let value = parseInt(e.target.value)\r\n        let err= ''\r\n        if(value<1 || isNaN(value)){\r\n            err='Invalid Number'\r\n        }\r\n        setPort({value,err})\r\n    }\r\n    const handleBaseIP=(value: string)=>{\r\n        \r\n        let err= ''\r\n        let s = value.split('.')\r\n        if(s.length===4){\r\n            for(let i =0; i<4;i++){\r\n                if(parseInt(s[i])<0 || parseInt(s[i])>(254-Amount.value)){\r\n                    err ='Invalid Number Range: '+s[i]\r\n                }\r\n            }\r\n        } else{\r\n            err= 'Invalid Number of .'\r\n        }\r\n        console.log(value)\r\n        \r\n        setBaseIP({value,err})\r\n    }\r\n\r\n    const handlePass=(value: string)=>{\r\n        setPass(value)\r\n    }\r\n    const handleUser=(value:string)=>{\r\n        setUserName(value)\r\n    }\r\n    return( \r\n        <Dialog fullWidth={true} style={{padding: '10%'}} onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n        <DialogTitle id=\"simple-dialog-title\">Add Projectors</DialogTitle>\r\n        <InputLabel style={style} id=\"pjMake\">Model</InputLabel>\r\n        <Select style={style} id='pjMake' onChange={handleMake} value={make}>\r\n        {getListItems()}\r\n        </Select>\r\n        <br></br>\r\n        <TextField style={style} error={Amount.err? true: false} variant=\"filled\" type={'number'}label={'Amount'} value={Amount.value} onChange={handleAmount} helperText={Amount.err}> </TextField>\r\n        <br></br>\r\n        <TextField style={style} error={StartID.err? true: false} value={StartID.value} helperText={StartID.err} variant=\"filled\" type={'number'} label={'StartID'} onChange={handleID} > </TextField>\r\n        <br></br>\r\n        <TextField style={style} error={BaseIP.err? true: false} value={BaseIP.value} helperText={BaseIP.err} variant=\"filled\" type={'text'}label={'BaseIP'} onChange={(e)=>handleBaseIP(e.target.value)} > </TextField>\r\n        <br></br>\r\n        <TextField style={style} error={Port.err? true: false} value={Port.value} helperText={Port.err} variant=\"filled\" type={'number'}label={'Port'} onChange={handlePort} > </TextField>\r\n        <br></br>\r\n        <TextField style={style}  value={UserName}  variant=\"filled\" label={'Username'} type={'text'} onChange={(e)=>handleUser(e.target.value)}> </TextField>\r\n        <br></br>\r\n        <TextField style={style}  value={Pass}  variant=\"filled\" label={'Password'}type={'text'} onChange={(e)=>handlePass(e.target.value)}> </TextField>\r\n\r\n        <Button style={{width:'20%', margin: 'auto', marginBottom:'2%'}} disabled={Amount.err || BaseIP.err || StartID.err? true: false} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Submit</Button>\r\n      </Dialog>\r\n    )\r\n}","import * as C from \"../util/constants\";\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport { Button, Paper, makeStyles, ButtonGroup } from '@material-ui/core'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { useState } from \"react\";\r\nimport { v4 } from 'uuid'\r\nimport Alert from './Alert'\r\nimport PatchAddDialog from './PatchAddDialog'\r\n\r\ninterface Patch_props {\r\n  patch: C.Patch\r\n  setPatch?: (p: C.Patch) => void\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  fab: {\r\n    position: 'absolute',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n\r\n}));\r\nconst columns = [\r\n  { field: 'uuid', headerName: 'uuid', width: 100, hide: true },\r\n  { field: 'id', headerName: 'ID', width: 90 },\r\n  { field: 'ip_address', headerName: 'IP Address', width: 170 },\r\n  { field: 'port', headerName: 'Port', width: 130 },\r\n  { field: 'auth', headerName: 'Auth', width: 130 },\r\n  { field: 'make', headerName: 'Make', width: 130 },\r\n\r\n];\r\n\r\nexport default function Patch(props: Patch_props) {\r\n  const { patch, setPatch } = props\r\n  const [addWindowOpen, setAddWindowOpen] = useState(false)\r\n  const [editWindowOpen, setEditWindowOpen] = useState(false)\r\n  const [selected, setSelected] = useState<number[]>([])\r\n  const [deleteWindowOpen, setDeleteWindowOpen] = useState(false)\r\n  const classes = useStyles()\r\n  let newPJs: C.Patch = {}\r\n\r\n  const addPJs = (amount: number, startID: number, baseIP: string, port: number, auth: string, make: C.PROJECTOR_MAKE) => {\r\n    setAddWindowOpen(false)\r\n    console.log('Got PJs to make!')\r\n    for (let id = startID; id < amount + startID; id++) {\r\n      let ip_address = baseIP + id\r\n      //console.log('Patch', patch)\r\n      if (Object.values(patch).filter(pj => {\r\n        if (pj.id === id) {\r\n          console.log('Conflicting ID', id);\r\n          return true\r\n        }\r\n        if (pj.ip_address === ip_address) {\r\n          console.log('Conflicting IP', ip_address);\r\n          return true\r\n        }\r\n        return false\r\n      }\r\n      ).length > 0) {\r\n        console.log('Conflicting PJ')\r\n        newPJs[v4()] = { ip_address: '-', port, auth, make, id: 0 }\r\n      } else {\r\n        // console.log('new PJ!')\r\n        newPJs[v4()] = { ip_address, id, port, auth, make }\r\n      }\r\n    }\r\n    //console.log(newPJs)\r\n    let newPatch = Object.assign(patch, newPJs) as C.Patch\r\n    if (newPatch && setPatch) {\r\n      setPatch(newPatch)\r\n    }\r\n  }\r\n  /*\r\n  const getRows = () => {\r\n    return Object.entries(patch).map(e => {\r\n      let pj = e[1]\r\n      //@ts-ignore\r\n      pj.channel = pj.id\r\n      //@ts-ignore\r\n      pj.id = e[0]\r\n\r\n      return pj\r\n\r\n    })\r\n  }\r\n  */\r\n\r\n  const handleDelete = (c: C.ControlKeys) => {\r\n\r\n    let newPatch = Object.assign(patch) as C.Patch\r\n    Object.entries(newPatch).forEach(e => {\r\n      if (selected.includes(e[1].id)) {\r\n        delete newPatch[e[0]]\r\n        let newSelect = Object.assign(selected) as number[]\r\n        delete newSelect[e[1].id]\r\n        setSelected(newSelect)\r\n      }\r\n    })\r\n\r\n\r\n    //const i = Object.assign(newPatch)\r\n    if (newPatch && setPatch) {\r\n      //console.log('Deleting',Object.values(patch).length-Object.values(newPatch).length)\r\n      setPatch(newPatch)\r\n      setSelected([])\r\n    }\r\n\r\n  }\r\n  const getSelectedString = () => {\r\n    let s = ''\r\n    for (let i = 0; i < selected.length; i++) {\r\n      s += selected[i] + ' '\r\n      if (i % 9 === 0) {\r\n        s += '\\r'\r\n      }\r\n    }\r\n    return s\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Paper style={{ height: 700, width: '100%' }}>\r\n        {patch ?\r\n          <DataGrid rows={Object.values(patch)} columns={columns} checkboxSelection selectionModel={selected} onSelectionModelChange={(e) => setSelected(e.selectionModel as number[])} />\r\n          : <></>\r\n        }\r\n\r\n        <ButtonGroup color='primary' className={classes.fab} >\r\n          <Button aria-label=\"add\" onClick={(e) => setAddWindowOpen(true)}> <AddIcon /></Button>\r\n          <Button aria-label=\"edit\" disabled={selected.length < 1} onClick={(e) => setEditWindowOpen(true)}> <EditIcon /></Button>\r\n          <Button aria-label=\"edit\" disabled={selected.length < 1} onClick={(e) => setDeleteWindowOpen(true)}> <DeleteIcon /></Button>\r\n        </ButtonGroup>\r\n\r\n\r\n      </Paper>\r\n      <Alert open={deleteWindowOpen} handleCommand={handleDelete} handleClose={() => setDeleteWindowOpen(false)} command={C.ControlCommands.MENU} header='Delete Selected' message={'Are you srue you want to delete: \\r \\n' + getSelectedString()} ></Alert>\r\n      <PatchAddDialog open={addWindowOpen} handleClose={() => setAddWindowOpen(false)} addPJs={addPJs} currentPatch={patch} />\r\n    </>\r\n  )\r\n}","\r\nexport type update ={version:string,date:string, notes:string[]}\r\nexport type updates =update[]\r\nconst updateLog: updates=[\r\n    {version: '0.1.4.', date: '9/5/21', notes:[\r\n        'Added About'\r\n    ]},\r\n    {version: '0.1.4.1', date: '9/5/21', notes:[\r\n        'More About', 'Less Mess'\r\n    ]},\r\n    {version: '0.1.5.2', date: '10/5/21', notes:[\r\n        'Programmer Table now selectable'\r\n    ]},\r\n    {version:'0.1.5.3', date:'10/6/21', notes:[\r\n        'OSD Rotaion, PJ Roation Added',\r\n        'Clear Bug Fix',\r\n        'User Option to 3x Clear on 1 press addeds'\r\n    ]},\r\n    {version:'0.1.5.4', date:'10/7/21', notes:[\r\n        'Input',\r\n        'White TestPattren to real one',\r\n    ]},\r\n    {version:'0.1.5.5', date:'10/11/21', notes:[\r\n        'Menu Popup now maps keyboard keys to keys',\r\n        'Menu Popup now allows number key entry'\r\n    ]},\r\n]\r\n\r\nexport default updateLog","\r\nimport { Card, Dialog, Paper, Typography, makeStyles, CardContent, Theme, createStyles, AppBar } from '@material-ui/core';\r\n\r\nimport updateLog from '../util/UpdateLog'\r\ninterface About_Props{\r\n    open: boolean\r\n    handleClose: ()=>void\r\n}\r\nconst useStyles = makeStyles((theme: Theme)=> createStyles({\r\n    root: {\r\n      minWidth: 275,\r\n      flexGrow: 1,\r\n    },\r\n    bullet: {\r\n      display: 'inline-block',\r\n      margin: '0 2px',\r\n      transform: 'scale(0.8)',\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n      fontSize: 14,\r\n    },\r\n    pos: {\r\n      marginBottom: 12,\r\n    },\r\n  }));\r\nexport default function About(props: About_Props){\r\n    const {open,handleClose}=props;\r\n    const classes = useStyles();\r\n    const bull = <span className={classes.bullet}></span>;\r\n    const getNotes=(notes: string[])=>{\r\n        return notes.map(note=>{\r\n           return <Typography key={note} variant='body2'>\r\n                {bull}{note}\r\n            </Typography>\r\n        })\r\n    }\r\n    const getUpdates=()=>{\r\n        return updateLog.map(update=>{\r\n            return <Card className={classes.root} key={update.version}>\r\n                <CardContent>\r\n                    <Typography variant='h6' component='h2'>\r\n                        {update.version}\r\n                    </Typography>\r\n                    <Typography className={classes.pos}>\r\n                        {update.date}\r\n                    </Typography>\r\n                    {getNotes(update.notes)}\r\n               \r\n                </CardContent>\r\n                \r\n                </Card>\r\n        })\r\n    }\r\n    return(\r\n        <Dialog open={open} onClose={handleClose}>\r\n            <div className={classes.root}>\r\n                <AppBar position='static'>\r\n                <Typography variant='h4'>vanPJ</Typography>\r\n              <Typography className={classes.pos} >Logic.Lighting | MIT Licence</Typography>\r\n                    </AppBar>\r\n          <Paper style={{width: '50%'}}>  \r\n              \r\n        {getUpdates()}\r\n        </Paper>\r\n        </div>\r\n        </Dialog>\r\n    )\r\n}","import { Dialog, AppBar, Toolbar, Typography, IconButton, Button, Paper, Slide, Switch, TextField, FormControlLabel, makeStyles } from \"@material-ui/core\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport { useState, forwardRef, useEffect } from \"react\";\r\nimport * as C from \"../util/constants\";\r\nimport { setConfig } from \"../util/getter\";\r\nimport Patch from \"./Patch\";\r\nimport { SocketPatcher } from \"../util/SocketListener\";\r\nimport { Socket } from \"socket.io-client\";\r\nimport About from \"./About\";\r\n//import { socket } from \"../LoadPage\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Transition = forwardRef(function Transition(props, ref) {\r\n  //@ts-ignore\r\n  return (<Slide direction=\"up\" ref={ref} {...props} />);\r\n});\r\n\r\ninterface ConfigDialog_Props {\r\n  open: boolean\r\n  handleClose: () => void\r\n  config: C.Config\r\n  socket: Socket | undefined\r\n}\r\nexport default function ConfigDialog(props: ConfigDialog_Props) {\r\n  const { open, handleClose, config, socket } = props\r\n  const [polling, setPolling] = useState(config.Polling)\r\n  const [pollingInterval, setPollingInterval] = useState(config.Polling_Interval/1000)\r\n  const classes = useStyles();\r\n  const [patch, setPatch] = useState<C.Patch>(config.Patch)\r\n  const [aboutOpen, setAboutOpen] =useState(false)\r\n\r\n  useEffect(() => {\r\n    setPollingInterval(config.Polling_Interval/1000)\r\n    setPolling(config.Polling)\r\n    setPatch(config.Patch)\r\n  }, [config])\r\n \r\n\r\n  const handleSubmit = (event: any) => {\r\n    event?.preventDefault();\r\n    // console.log(event)\r\n\r\n    let form = document.querySelector('form')\r\n    if (form) {\r\n      const data = new FormData(form);\r\n      let query = ''\r\n      for (var pair of data.entries()) {\r\n      \r\n        let t = pair[0] as C.ConfigHeaders\r\n       \r\n        let v = pair[1].toString()\r\n        switch(t){\r\n          case C.ConfigHeaders.POLLING:\r\n           \r\n            break;\r\n          case C.ConfigHeaders.POLLING_INTERVAL:\r\n            query += t + '=' + pollingInterval*1000 + '&'\r\n            break;\r\n          default:\r\n            query += t + '=' + v + '&'\r\n            break;\r\n        }\r\n\r\n      }\r\n      //Hard adds Polling to ensure it is accounted for\r\n      query += C.ConfigHeaders.POLLING + '=' + polling\r\n      \r\n      setConfig(query)\r\n      if(socket)\r\n        SocketPatcher(socket, patch)\r\n    }\r\n  }\r\n  const handlePollingInterval=(value: number)=>{\r\n    if(value>10){\r\n      setPollingInterval(value)\r\n    }\r\n  }\r\n  const handlePatchUpdate=(p: C.Patch)=>{\r\n    console.log(p)\r\n    setPatch(p)\r\n  }\r\n  return (\r\n    \r\n    //@ts-ignore\r\n    <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n\r\n      <form className={classes.root} onSubmit={handleSubmit}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar style={{ paddingBottom: 0, marginBottom: 0, height: 30}}>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Server Configuration\r\n              <span style={{ fontSize: 10, marginLeft:30 }}> &nbsp;&nbsp;&nbsp; Last Update: {config.LastUpdated}</span> \r\n            </Typography>\r\n           \r\n            <Button autoFocus color=\"inherit\" type={'submit'} onClick={handleClose}>\r\n              Save\r\n            </Button>\r\n            <IconButton color='inherit' onClick={()=>setAboutOpen(true)}><InfoIcon></InfoIcon></IconButton>\r\n           \r\n          </Toolbar>\r\n         \r\n        </AppBar>\r\n\r\n        <Paper key='config_paper'>\r\n\r\n\r\n\r\n          <TextField key='location' style={{width:'25%'}}label={'Location'} name={C.ConfigHeaders.LOCATION} defaultValue={config.Location} />\r\n\r\n          <FormControlLabel name={C.ConfigHeaders.POLLING} value={polling} labelPlacement=\"top\"\r\n            control={<Switch checked={polling} value={polling} onChange={(e) => setPolling(!polling)} name={C.ConfigHeaders.POLLING} />}\r\n            label=\"Polling\"\r\n          />\r\n\r\n          <TextField key='polling_interval' style={{width:'25%'}} disabled={!polling} type='number' label={'Poll Interval'} onChange={(e)=> handlePollingInterval(parseInt(e.target.value))} name={C.ConfigHeaders.POLLING_INTERVAL} value={pollingInterval} />\r\n        </Paper>\r\n\r\n\r\n        <Paper key='patch'>\r\n          <Patch patch={patch} setPatch={handlePatchUpdate} />\r\n        </Paper>\r\n      </form>\r\n     \r\n      <About open={aboutOpen} handleClose={()=>setAboutOpen(false)}></About>\r\n    </Dialog>\r\n   \r\n      \r\n  \r\n    \r\n  )\r\n}","\r\nimport { Socket } from 'socket.io-client'\r\nimport * as C from './constants'\r\n//import {socket} from '../LoadPage'\r\ntype RIG_STATUS = React.Dispatch<React.SetStateAction<C.RIG_STATUS>>\r\ntype PJS = React.Dispatch<React.SetStateAction<C.PJs>>\r\ntype CONFIG = React.Dispatch<React.SetStateAction<C.Config>>\r\ntype POLLING_PROGRESS = React.Dispatch<React.SetStateAction<number>>\r\n\r\nexport default function SocketListener(\r\n    socket: Socket,\r\n    setStatus: RIG_STATUS,\r\n    setPJs: PJS,\r\n    setConfig: CONFIG,\r\n    setPollingProgress: POLLING_PROGRESS,\r\n) {\r\n   \r\n    socket.on('connected', () => {\r\n        console.log('Connected!')\r\n        // socket.emit('Hello')\r\n    })\r\n    socket.on('Hello', () => {\r\n        //console.log('Hello!')\r\n    })\r\n    socket.on(C.ioCommands.EMITTING_PJS, (pjs: C.PJs) => {\r\n        setPJs(pjs)\r\n         console.log('Got new PJs!')\r\n    })\r\n    socket.on(C.ioCommands.EMITTING_STATUS, (status: C.RIG_STATUS) => {\r\n       // console.log('Status Updated')\r\n        setStatus(status)\r\n    })\r\n    socket.on(C.ioCommands.REQUEST_UPDATE, () => {\r\n        console.log('Requesting Update!')\r\n        socket?.emit(C.ioCommands.REQUESTING_UPDATE)\r\n    })\r\n\r\n    socket.on(C.ioCommands.REQUEST_CONFIG, () => {\r\n        console.log('Requesting Config')\r\n       // socket?.emit(C.ioCommands.REQUESTING_CONFIG)\r\n    })\r\n    socket.on(C.ioCommands.EMITTING_CONFIG, (config: C.Config) => {\r\n        console.groupCollapsed('Got New Config')\r\n        console.log('Config', config)\r\n        console.log('Patch', config.Patch)\r\n        console.groupEnd()\r\n        setConfig(config)\r\n        /*\r\n        if(config.Groups[0] && config.Groups[0].group)\r\n            setWorld(config.Groups[0].group)\r\n            */\r\n    })\r\n    socket.on(C.ioCommands.EMITTING_POLLING_PROGRESS, (progress: number) => {\r\n        setPollingProgress(progress)\r\n    })\r\n}\r\n    \r\n\r\n\r\n\r\nexport function SocketPatcher(socket: Socket, patch: C.Patch) {\r\n    socket.emit(C.ioCommands.EMITTING_PATCH, patch)\r\n}   ","import {Button, Dialog, DialogActions, DialogTitle, DialogContent, DialogContentText, TextField } from \"@material-ui/core\";\r\nimport { useEffect, useState } from \"react\";\r\ninterface Alert_Props{\r\n    open: boolean,\r\n    handleInput: (text: string)=>void,\r\n    handleClose: ()=>void,\r\n    header: string,\r\n    message: string,\r\n    startText: string | undefined\r\n}\r\nexport default function Alert(props: Alert_Props){\r\n    const {open,handleInput, handleClose, header, message ,startText} = props\r\n    const [text, setText] = useState('')\r\n\r\n    useEffect(()=>{\r\n      if(startText)\r\n      setText(startText)\r\n    },[startText])\r\n\r\n    const handleClick=(approval: boolean)=>{\r\n        if(approval){\r\n            handleInput(text)\r\n        }\r\n        handleClose()\r\n        setText('')\r\n\r\n    }\r\n    return (\r\n        <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">{header}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            <span style={{width:'50'}}>{message}</span>\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <TextField value={text} onChange={(e)=>setText(e.target.value)}></TextField>\r\n          <Button onClick={(e)=>handleClick(false)} color=\"primary\">\r\n            Cancle\r\n          </Button>\r\n          <Button onClick={(e)=>handleClick(true)} color=\"primary\" autoFocus>\r\n            Okay\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n        \r\n    )\r\n}","import { Button} from '@material-ui/core'\r\nimport { useMemo } from 'react'\r\nimport * as C from '../util/constants'\r\n\r\ninterface worlds_props{\r\n    setWorld: (g: string)=> void\r\n    name: string\r\n    groupEditCMD: C.ioCommands | undefined\r\n    groups: C.Groups\r\n    selected?: number\r\n}\r\n/*\r\ninterface worldTuppel{\r\n  key: string,\r\n  name: string,\r\n  selected: boolean\r\n}*/\r\nexport default function Worlds( props: worlds_props){\r\n\r\n    const {setWorld, groups, groupEditCMD, selected} = props\r\n\r\n    const getWorlds = useMemo(()=>{\r\n        let g= Object.entries(groups).map(group=>{\r\n          return {key: group[0], name: group[1].name, selected: selected ===parseInt(group[0])  }\r\n       \r\n        })\r\n      if(groupEditCMD === C.ioCommands.STORE_GROUP){\r\n        g.push({key:C.ioCommands.STORE_GROUP, name: 'Add Group', selected: false})\r\n      }\r\n      return g\r\n    },[groups,groupEditCMD,selected])\r\n\r\n    const getButtons =()=>{\r\n   \r\n      return getWorlds.map(group=>{\r\n        return <Button key={group.key} onClick={(e)=>{e.preventDefault(); setWorld(group.key)}} variant={group.selected?'outlined':'text'}>{group.name}</Button>\r\n      })\r\n    }\r\n    return (\r\n        <div {...props} >\r\n          {getButtons()}\r\n          </div>\r\n    )\r\n}\r\n","import { Button, ButtonGroup, createStyles, Fade, makeStyles, Menu, MenuItem, Paper, Theme, Typography } from \"@material-ui/core\";\r\nimport Worlds from \"./Worlds\";\r\nimport { Config, ioCommands } from '../util/constants'\r\nimport { useRef, useState } from \"react\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\"\r\nimport PublicIcon from '@material-ui/icons/Public';\r\n\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        root: {\r\n\r\n        },\r\n        container: {\r\n            display: 'flex',\r\n        },\r\n        paper: {\r\n            margin: theme.spacing(1),\r\n        },\r\n    }),\r\n);\r\n\r\ninterface WorldBox_Props {\r\n    handleWorldSelection: (g: string) => void,\r\n    handleGroupSelection: (g: string) => void,\r\n    handleGroupConfig: (cmd: ioCommands) => void,\r\n    groupEditCMD: ioCommands | undefined,\r\n    config: Config,\r\n    world: number\r\n}\r\nexport default function WorldBox(props: WorldBox_Props) {\r\n    const { handleWorldSelection, handleGroupSelection, handleGroupConfig, groupEditCMD, config, world } = props;\r\n    const [worldOpen, setWorldOpen] = useState(false)\r\n    const [groupOpen, setGroupOpen] = useState(false)\r\n    const [configOpen, setConfigOpen] = useState(false)\r\n    const divRef = useRef(null)\r\n    const classes = useStyles();\r\n\r\n    const handleConfigButton = () => {\r\n        //@ts-ignore\r\n        divRef.current.focus()\r\n\r\n        setConfigOpen(true)\r\n\r\n    }\r\n    const handleConfigSelect = (cmd: ioCommands) => {\r\n        setConfigOpen(false)\r\n        handleGroupConfig(cmd)\r\n    }\r\n    const handleWorld = (w: boolean) => {\r\n        setWorldOpen(!w)\r\n        if (!w) {\r\n            setGroupOpen(false)\r\n        }\r\n    }\r\n    const handleGroup = (g: boolean) => {\r\n        setGroupOpen(!g)\r\n        if (!g) {\r\n            setWorldOpen(false)\r\n        }\r\n    }\r\n    const getStyle = () => {\r\n        if (!worldOpen && !groupOpen) {\r\n            return {\r\n                width: '90%', margin: 'auto', height: '40px'\r\n            }\r\n        }\r\n        return {\r\n            width: '90%', margin: 'auto'\r\n        }\r\n\r\n    }\r\n    const getHelperText = () => {\r\n        let generalMessage = ' | Hit Clear to Cancle'\r\n        switch (groupEditCMD) {\r\n            case ioCommands.STORE_GROUP:\r\n                return <Typography>Select Group To Store {generalMessage}</Typography>\r\n            case ioCommands.DELETE_GROUP:\r\n                return <Typography>Select Group To Delete {generalMessage}</Typography>\r\n            case ioCommands.LABEL_GROUP:\r\n                return <Typography>Select Group to Label {generalMessage}</Typography>\r\n        }\r\n    }\r\n    return (\r\n        <div className='WorldBox' >\r\n            <Paper style={getStyle()}>\r\n                <ButtonGroup style={{ marginTop: '1px', marginBottom: '2px' }} >\r\n                    <Button key='world_button'\r\n                        onClick={() => handleWorld(worldOpen)}> Worlds {world !==0? <PublicIcon fontSize=\"small\" /> : '  '}\r\n                        {worldOpen ? <ExpandLessIcon /> : <ExpandMoreIcon />} </Button>\r\n                    <Button key='group_button' onClick={() => handleGroup(groupOpen)}>Groups\r\n                        {groupOpen ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n                    </Button>\r\n                </ButtonGroup>\r\n                {getHelperText()}\r\n\r\n                <div className={classes.container} style={{width:'100%'}}>\r\n\r\n\r\n                    {worldOpen ? <Fade key='world_Grow' in={worldOpen}>\r\n\r\n\r\n                        <Worlds key=\"world_box\" setWorld={handleWorldSelection} groupEditCMD={groupEditCMD} groups={config.Groups} name={'Worlds'} selected={world} />\r\n                    </Fade> :\r\n                        <Fade key='group_box' in={groupOpen}>\r\n                            <Worlds setWorld={handleGroupSelection} groupEditCMD={groupEditCMD} groups={config.Groups} name={'Groups'} />\r\n                        </Fade>\r\n                    }\r\n                    {groupOpen || worldOpen ?\r\n                        <Button ref={divRef} style={{ float: 'right', marginLeft:'auto' }} onClick={() => handleConfigButton()}><SettingsIcon /></Button>\r\n                        : <></>}\r\n                </div>\r\n\r\n            </Paper>\r\n            <Menu id='groups-menu' keepMounted anchorEl={divRef.current}\r\n                open={configOpen}\r\n                onClose={() => setConfigOpen(false)}>\r\n                <MenuItem>\r\n                    <Button key='add_group' onClick={() => handleConfigSelect(ioCommands.STORE_GROUP)}>Store Group</Button>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <Button key='rename_group' onClick={() => handleConfigSelect(ioCommands.LABEL_GROUP)}>Rename Group</Button>\r\n                </MenuItem>\r\n                <MenuItem>\r\n                    <Button key='delete_group' onClick={() => handleConfigSelect(ioCommands.DELETE_GROUP)}>Delete Group</Button>\r\n                </MenuItem>\r\n            </Menu>\r\n\r\n        </div>\r\n    )\r\n}\r\n//\r\n/*\r\n <Container key='groups_Worlds' style={{width:'80%'}}>\r\n\r\n\r\n        </Container>\r\n        */","\r\nimport { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport * as C from './util/constants'\r\n//import { getPJ } from './util/getter';\r\n//import PJ from './components/PJ'\r\nimport Numberpad from './components/numberpad';\r\nimport CommandPad from './components/CommandPad'\r\nimport { TextField, Container, Grid, LinearProgress } from '@material-ui/core'\r\nimport { processCMD } from './util/CMD';\r\nimport Programmer from './components/Programmer';\r\nimport * as Prefs from './prefrences';\r\nimport SocketListener from './util/SocketListener';\r\nimport ConfigDialog from './components/ConfigDialog';\r\nimport { Socket } from 'socket.io-client';\r\nimport InputPopup from './components/InputPopup';\r\nimport WorldBox from './components/WorldBox';\r\n\r\n\r\n// setSocketConnect(true)\r\n//import {socket}  from './LoadPage'\r\ninterface App_Prps {\r\n  prefs: Prefs.prefres\r\n  openConfig: boolean\r\n  handleCloseConfig: () => void\r\n  socket: Socket | undefined\r\n}\r\n\r\nconst removeFocus=()=>{\r\n  if(document.activeElement instanceof HTMLElement){\r\n  document.activeElement.blur();\r\n  }\r\n}\r\n//let socket: Socket | undefined = undefined\r\n\r\nfunction App(Props: App_Prps) {\r\n  const { prefs, openConfig, handleCloseConfig, socket } = Props\r\n  const [cmd, setCMD] = useState('')\r\n  const [vartiable, setVartiable] = useState<string | undefined>(undefined)\r\n  const [active, setActive] = useState<number[]>([])\r\n  const [activeIndex, setActiveIndex] = useState(-1)\r\n  const [clearPresses, setClearPressed] = useState(0)\r\n  const [selected, setSelected] = useState<number[]>([])\r\n  const [groupNameOpen, setGroupNameOpen] = useState(false)\r\n  const [groupName, setGroupName] = useState<string | undefined>(undefined)\r\n  const [config, setConfig] = useState(C.defaultConfig)\r\n  const [world, setWorld] = useState(0) //Default 0 - All\r\n  const [pjs, setPJs] = useState<C.PJs>({})\r\n  const [pollingProgress, setPollingProgress] = useState(100)\r\n  const [command, setCommand] = useState<C.ControlKeys | undefined>(undefined)\r\n  const [groupEditCMD, setGroupEditCMD] = useState<C.ioCommands | undefined>(undefined)\r\n  const [selectedGroup, setSelectedGroup] = useState<number | undefined>(undefined)\r\n  const [lastPJClicked, setLastPJClicked] = useState<number | undefined>(undefined)\r\n  const [lockedCommandLine, setLockedCommandLine]= useState(false)\r\n  const [rigStatus, setStatus] = useState<C.RIG_STATUS>({\r\n    online: false,\r\n    power: false,\r\n    shutter: false,\r\n    blendMarker: false,\r\n    blend: false,\r\n    testPattren: false,\r\n    lampStatus: false,\r\n    hdmiInput: false,\r\n    signalName: false\r\n\r\n  })\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (socket)\r\n      SocketListener(socket, setStatus, setPJs, setConfig, setPollingProgress)\r\n\r\n    if (command) {\r\n      console.log('Emmiting CMD', command,vartiable, active)\r\n\r\n      socket?.emit(C.ioCommands.EMITTING_CMD, { cmd: command, pjIDs: active, vartiable: vartiable })\r\n      if (prefs.clearProgrammerAfterCMD) {\r\n        setActive([])\r\n        setSelected([])\r\n      }\r\n      setCommand(undefined)\r\n    }\r\n\r\n\r\n    // let i =setInterval(pollPJs,10000)\r\n    //console.log(selected)\r\n    return function cleanup() {\r\n\r\n      // socket?.disconnect()\r\n      //setSocketConnect(false)\r\n    }\r\n\r\n\r\n  }, [active, command, prefs, socket, vartiable, pjs])\r\n\r\n\r\n  document.onkeyup = ((e) => {\r\n    if (openConfig || groupNameOpen) return\r\n    if (lockedCommandLine) return\r\n  \r\n   \r\n\r\n    let key = e.key\r\n     \r\n    if (C.keys.includes(key)) {\r\n      handlePad(key)\r\n      return\r\n    }\r\n\r\n    switch (key) {\r\n      case 't':\r\n        handlePad(C.commands.THRU)\r\n        break;\r\n      case 'c':\r\n        handlePad(C.commands.CLEAR)\r\n        break;\r\n      case '=':\r\n        handlePad('+')\r\n        break;\r\n      case 'Backspace':\r\n        handlePad(C.commands.DEL)\r\n        break;\r\n      case 'Enter':\r\n        //processCMD();\r\n        handlePad(C.commands.ENTER)\r\n        break;\r\n      case 'i':\r\n        handleCommand(C.ControlCommands.SHUTTER_CLOSED)\r\n        break;\r\n      case 'o':\r\n        handleCommand(C.ControlCommands.SHUTTER_OPEN)\r\n        break;\r\n\r\n      case 'ArrowUp':\r\n        handlePad(C.commands.IF_PROG)\r\n        break;\r\n      case 'ArrowRight':\r\n        handlePad(C.commands.NEXT)\r\n        break;\r\n      case 'ArrowLeft':\r\n        handlePad(C.commands.BACK)\r\n        break;\r\n    }\r\n\r\n  })\r\n\r\n  const handleNext = () => {\r\n    //console.log('Nexting')\r\n    if (selected.length < 1) {\r\n      return\r\n    }\r\n    let i = activeIndex\r\n    if (activeIndex + 1 < selected.length) {\r\n      i += 1\r\n    }\r\n    if (activeIndex + 1 >= selected.length) {\r\n      i = 0\r\n    }\r\n    let a: number[] = []\r\n    a.push(selected[i])\r\n    setActiveIndex(i)\r\n    setActive(a)\r\n  }\r\n  const handleBack = () => {\r\n    if (selected.length < 1) {\r\n      return\r\n    }\r\n    let i = activeIndex\r\n    if (activeIndex - 1 >= 0) {\r\n      i -= 1\r\n    }\r\n    if (activeIndex - 1 < 0) {\r\n      i = selected.length - 1\r\n    }\r\n    let a: number[] = []\r\n    a.push(selected[i])\r\n    setActiveIndex(i)\r\n    setActive(a)\r\n  }\r\n\r\n  const clear0=()=>{\r\n    setCMD('')\r\n  }\r\n\r\n  const clear1=()=>{\r\n    setActive([])\r\n    setActiveIndex(-1)\r\n  }\r\n\r\n  const clear2=()=>{\r\n    setSelected([])\r\n  }\r\n  const handlePad = (e: string) => {\r\n   \r\n    removeFocus()\r\n    if (e === C.commands.CLEAR) {\r\n      if (groupEditCMD) {\r\n       // console.log('Clear Pressed, but editCMD')\r\n        setGroupEditCMD(undefined)\r\n        return\r\n      }\r\n      if(prefs.trippleTapClearOnOne){\r\n        clear0()\r\n        clear1()\r\n        clear2()\r\n      } else{\r\n        setClearPressed((clearPresses + 1))\r\n      }\r\n      //console.log('Clear', clearPresses)\r\n      \r\n      switch (clearPresses) {\r\n        case 0:\r\n          clear0()\r\n          break;\r\n        case 1:\r\n          clear1()\r\n          break;\r\n        case 2:\r\n          clear2()\r\n          break;\r\n        default:\r\n          setClearPressed(0)\r\n      } \r\n      return\r\n    }\r\n    setClearPressed(0)\r\n    switch (e) {\r\n\r\n\r\n      case C.commands.DEL:\r\n        //console.log(cmd.slice(-6) === ' THRU ')\r\n        // console.log(cmd.includes('THRU'))\r\n        if (cmd.length >= 6 && cmd.slice(-6) === ' ' + C.commands.THRU + ' ') {\r\n          let t = cmd.slice(0, cmd.length - 6)\r\n          setCMD(t)\r\n        } else if(cmd.length>=7 && cmd.slice(-7) === ' '+C.commands.GROUP+' ') {\r\n          let t = cmd.slice(0,cmd.length - 7)\r\n          setCMD(t)\r\n        }else {\r\n          setCMD(cmd.slice(0, (cmd.length - 1)))\r\n        }\r\n        break;\r\n      case C.commands.THRU:\r\n        if (cmd.length > 0)\r\n          setCMD(cmd + ' THRU ')\r\n        break;\r\n      case C.commands.ENTER:\r\n        handleCMD()\r\n        break;\r\n      case '-':\r\n        if (cmd[cmd.length - 1] !== ' ') {\r\n          setCMD(cmd + ' '+e+' ')\r\n        }\r\n        break\r\n      case '+':\r\n        setCMD(cmd+' '+e+' ')\r\n        break\r\n      case C.commands.NEXT:\r\n        handleNext();\r\n        break;\r\n      case C.commands.BACK:\r\n        handleBack()\r\n        break;\r\n      case C.commands.IF_PROG:\r\n        setActive(selected);\r\n        setActiveIndex(-1)\r\n        break;\r\n      default:\r\n\r\n        setCMD(cmd + e)\r\n      // console.log('setting CMD',cmd)\r\n    }\r\n    //  console.log('CMD',cmd)\r\n  }\r\n  const handleTableSelect = (id: number) => {\r\n    // let s = [...selected]\r\n    console.log('Table Select',id)\r\n    let a = [...active]\r\n    if (a.includes(id)) {\r\n      setActive(a.filter(pj => pj !== id))\r\n    } else {\r\n      a.push(id)\r\n      setActive(a)\r\n      setLastPJClicked(id)\r\n      // s.push(id)\r\n      //console.log(s)\r\n      // setSelected(s)\r\n    }\r\n    let s = [...selected]\r\n    if(!s.includes(id)){\r\n      s.push(id)\r\n      setSelected(s)\r\n    }\r\n  }\r\n\r\n  const handleCMD = () => {\r\n\r\n    let s = processCMD(cmd, active, getGroup(world), config.Groups)\r\n    finalCMD(s)\r\n    setCMD('')\r\n\r\n  }\r\n  const finalCMD = (n: number[]) => {\r\n    // console.log(n)\r\n    setActive(n)\r\n    let newSelected:number[] = []\r\n    selected.forEach(id=>{\r\n      if(n.includes(id)){\r\n        newSelected.push(id)\r\n      }\r\n    })\r\n    n.forEach(id => {\r\n      if (!selected.includes(id)) {\r\n        newSelected.push(id)\r\n      }\r\n    })\r\n    \r\n    setSelected(newSelected)\r\n    //setSelected(diffrentPJs)\r\n\r\n  }\r\n  const handleCommand = (command: C.ControlKeys, text?: string) => {\r\n    console.log(command,vartiable)\r\n    handleCMD()\r\n    setCommand(command)\r\n    setVartiable(text)\r\n  }\r\n  const getGroup = (groupID: string | number) => {\r\n    let g = config.Groups[parseInt(groupID.toString())]?.group\r\n    return g ? g : []\r\n  }\r\n  const handleGroupName = (name: string) => {\r\n   \r\n    setGroupName(name)\r\n    console.log(name, groupName,groupEditCMD)\r\n    if (name) {\r\n      switch (groupEditCMD) {\r\n        case C.ioCommands.STORE_GROUP:\r\n          socket?.emit(C.ioCommands.STORE_GROUP, { name: name, group: active })\r\n          break;\r\n        case C.ioCommands.LABEL_GROUP:\r\n          socket?.emit(C.ioCommands.LABEL_GROUP, { groupID: selectedGroup, name })\r\n          break;\r\n      }\r\n\r\n      setGroupName(undefined)\r\n      setGroupEditCMD(undefined)\r\n      console.log(groupName)\r\n    }\r\n  }\r\n  const handleGroupUpdate = (groupID: string) => {\r\n    socket?.emit(C.ioCommands.UPDATE_GROUP, { groupID: parseInt(groupID), group: active })\r\n    setGroupEditCMD(undefined)\r\n  }\r\n  const handleGroupAndWorld = (groupID: string) => {\r\n    if (groupID === C.ioCommands.STORE_GROUP && active.length>0) {\r\n      setGroupNameOpen(true)\r\n      return false\r\n    } else if (groupEditCMD === C.ioCommands.STORE_GROUP) {\r\n      handleGroupUpdate(groupID)\r\n      return false\r\n    } else if (groupEditCMD === C.ioCommands.LABEL_GROUP) {\r\n      setGroupName(config.Groups[parseInt(groupID)].name)\r\n      setSelectedGroup(parseInt(groupID))\r\n      setGroupNameOpen(true)\r\n      return false\r\n    } else if(groupEditCMD === C.ioCommands.DELETE_GROUP){\r\n      socket?.emit(C.ioCommands.DELETE_GROUP, {groupID:parseInt(groupID)})\r\n      setGroupEditCMD(undefined)\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const handleGroupSelection = (groupID: string) => {\r\n    if (handleGroupAndWorld(groupID)) {\r\n      removeFocus()\r\n      let group = getGroup(groupID)\r\n      if (group){\r\n        let s = ''\r\n        let t = cmd.trim()\r\n     \r\n        if(t.slice(-1) !== '-' && t.slice(-1) !=='+'){\r\n          s= ' + '\r\n        }\r\n\r\n        setCMD(cmd+s+C.commands.GROUP+' '+parseInt(groupID))\r\n        \r\n      //  handleCMD()\r\n      //  finalCMD(group)\r\n      }\r\n    }\r\n  }\r\n  const handleWorldSelection = (groupID: string) => {\r\n    if (handleGroupAndWorld(groupID))\r\n      setWorld(parseInt(groupID))\r\n  }\r\n  const handleGroupConfig = (cmd: C.ioCommands) => {\r\n    switch (cmd) {\r\n      case C.ioCommands.STORE_GROUP:\r\n        setGroupEditCMD(cmd)\r\n        break;\r\n      case C.ioCommands.UPDATE_GROUP:\r\n        setGroupEditCMD(cmd)\r\n        break\r\n      case C.ioCommands.LABEL_GROUP:\r\n        setGroupEditCMD(cmd)\r\n        break;\r\n      case C.ioCommands.DELETE_GROUP:\r\n        setGroupEditCMD(cmd)\r\n        break;\r\n    }\r\n    //\r\n  }\r\n  const getStatusBar = () => {\r\n\r\n    if (pollingProgress === 100)\r\n      return <LinearProgress style={{ width: '99%', margin: 'auto' }} variant=\"determinate\" value={0} />\r\n\r\n    return <LinearProgress style={{ width: '99%', margin: 'auto' }} variant=\"determinate\" value={pollingProgress} />\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\" />\r\n      <link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" />\r\n      {getStatusBar()}\r\n      <Container style={{ position: 'relative', bottom: '3px', textAlign: 'left', float: 'left' }}>\r\n      </Container>\r\n      <Grid container spacing={6} className='inputArea' >\r\n        <Grid item >\r\n          <Numberpad handlePad={handlePad} />\r\n        </Grid>\r\n        <Grid item>\r\n          <CommandPad handleCommand={handleCommand} active={active} pjs={pjs} lockCommandLine={(lock)=>setLockedCommandLine(lock)}/>\r\n        </Grid>\r\n      </Grid>\r\n      <TextField\r\n        id=\"cmd\"\r\n\r\n        style={{ margin: 8, width: '90%' }}\r\n        value={cmd}\r\n        helperText=\"Command Line\"\r\n        fullWidth\r\n        margin=\"normal\"\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        variant=\"outlined\"\r\n\r\n      />\r\n\r\n      <WorldBox handleGroupSelection={handleGroupSelection} handleWorldSelection={handleWorldSelection} groupEditCMD={groupEditCMD} handleGroupConfig={handleGroupConfig} config={config} world={world} />\r\n      <br key=\"programmer break\"></br>\r\n      <Container key='programmer'>\r\n        <Programmer handleTableSelect={handleTableSelect} key={'pg'} prefs={prefs} world={getGroup(world)} status={rigStatus} selected={selected} active={active}\r\n          pjs={pjs} />\r\n\r\n\r\n        <br key='stats break'></br>\r\n\r\n\r\n      </Container>\r\n      <ConfigDialog socket={socket} open={openConfig} handleClose={() => handleCloseConfig()} config={config} />\r\n      <InputPopup open={groupNameOpen} handleInput={handleGroupName} startText={groupName} handleClose={() => setGroupNameOpen(false)} header={'Group Name'} message={active.toString()} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nimport Cookies from 'js-cookie'\r\nexport interface prefres{\r\n    darkMode: boolean,\r\n    clearProgrammerAfterCMD: boolean,\r\n    showOnlySelected: boolean,\r\n    programmerTableView: boolean,\r\n    trippleTapClearOnOne: boolean\r\n}\r\nconst cookieName= 'prefs'\r\n//const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\nexport const defaultPrefs: prefres={\r\n    darkMode: true, //prefersDarkMode,\r\n    clearProgrammerAfterCMD: false,\r\n    showOnlySelected: false,\r\n    programmerTableView: false,\r\n    trippleTapClearOnOne: false\r\n}\r\n\r\nexport const setCookie=(prefs: prefres)=>{\r\n    Cookies.set(cookieName,prefs)\r\n}\r\nconst getCookie =()=>{\r\n    return Cookies.get(cookieName)\r\n    /*\r\n    let c = Cookies.get(cookieName)\r\n    if(c){\r\n        return JSON.parse(c) \r\n       // return c as unknown as prefres\r\n    } else {\r\n        setCookie(defaultPrefs)\r\n        return defaultPrefs\r\n    }\r\n    */\r\n}\r\n\r\nexport function getPrefrences(darkMode=true):prefres{\r\n    let c = getCookie()\r\n    if(c){\r\n        return Object.assign(defaultPrefs, JSON.parse(c))\r\n\r\n    }else{\r\n        let d = defaultPrefs\r\n        d.darkMode = darkMode\r\n        setCookie(d)\r\n        return d\r\n    }\r\n     \r\n    //return getCookie()\r\n}\r\n\r\n\r\n\r\nexport function setCookie_DarkMode(mode: boolean){\r\n    let c = getPrefrences()\r\n    c.darkMode=mode\r\n    setCookie(c)\r\n\r\n}\r\nexport function setCookie_ClearProgrammerAfterCMD(mode: boolean){\r\n    let c = getPrefrences()\r\n    c.clearProgrammerAfterCMD = mode\r\n    setCookie(c)\r\n}\r\nexport function setCookie_ShowOnlySelected(mode:boolean){\r\n    let c =getPrefrences()\r\n    console.log(mode)\r\n    c['showOnlySelected'] = mode\r\n    setCookie(c)\r\n}\r\n\r\nexport function getDarkMode(){\r\n    return getPrefrences().darkMode\r\n}\r\n\r\nexport function getClearProgrammerAfterCMD(){\r\n    return getPrefrences().clearProgrammerAfterCMD\r\n}\r\nexport function getShowOnlySelected(){\r\n    return getPrefrences().showOnlySelected\r\n}\r\n\r\nexport function getProgrammerTableView(){\r\n    return getPrefrences().programmerTableView\r\n}","import { Button, Menu, MenuItem, FormControlLabel, Switch  } from '@material-ui/core'\r\n//import {SettingsIcon} from '@material-ui/icons/Settings';\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport { useState, useRef} from 'react'\r\nimport { prefres } from '../prefrences';\r\nimport * as C from '../util/constants'\r\n\r\n\r\ninterface menu_props {\r\n  handleSettings: (e: prefres) => void,\r\n  prefs: prefres,\r\n  handleOpenConfig: ()=>void\r\n}\r\nexport default function ControlMenu(props: menu_props) {\r\n\r\n // const value = useContext(Settings)\r\n  //console.log(value)\r\n  const { prefs, handleSettings, handleOpenConfig } = props\r\n  const divRef = useRef(null)\r\n\r\n  const [open, setOpen] = useState(false)\r\n  \r\n\r\n  const handleOpen = () => {\r\n    setOpen(true)\r\n\r\n\r\n  }\r\n  const handleClose = (e: C.menuCommands | undefined) => {\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleChange = (e: C.menuCommands) => {\r\n    \r\n    let p = Object.assign({},prefs)\r\n    switch (e) {\r\n      case C.menuCommands.CLEAR_SELECTED_ON_CMD:\r\n        p.clearProgrammerAfterCMD = !prefs.clearProgrammerAfterCMD\r\n        break;\r\n      case C.menuCommands.IF_SELECTED:\r\n        p.showOnlySelected = !prefs.showOnlySelected\r\n        break;\r\n      case C.menuCommands.DARK_MODE:\r\n        p.darkMode = !prefs.darkMode\r\n        break;\r\n      case C.menuCommands.PROGRAMMER_TABLE_VIEW:\r\n        p.programmerTableView = !prefs.programmerTableView\r\n        break;\r\n      case C.menuCommands.TRIPPLE_TAP_CLEAR_ON_ONE:\r\n        p.trippleTapClearOnOne = !prefs.trippleTapClearOnOne\r\n        break;\r\n    }\r\n    handleSettings(p)\r\n  }\r\n  let button =\r\n    <Button ref={divRef} aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={() => handleOpen()}>\r\n      <SettingsIcon />\r\n    </Button>\r\n  if(process.env.NODE_ENV === 'development'){\r\n    document.title = 'PJ Dev'\r\n  }\r\n  return (\r\n    <div>\r\n\r\n      {button}\r\n\r\n\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        keepMounted\r\n        //@ts-ignore\r\n        anchorEl={divRef.current}\r\n        open={open}\r\n        onClose={() => handleClose(undefined)}\r\n      >\r\n        <MenuItem >\r\n          <FormControlLabel\r\n            control={<Switch key={C.menuCommands.CLEAR_SELECTED_ON_CMD} checked={prefs.clearProgrammerAfterCMD}\r\n              onClick={(e) => handleChange(C.menuCommands.CLEAR_SELECTED_ON_CMD)} name=\"clearSelectedOnPress\" />}\r\n            label=\"Clear Programmer On CMD\"\r\n          />\r\n        </MenuItem>\r\n        <MenuItem key='trippletap'>\r\n\r\n          <FormControlLabel\r\n            control={<Switch key={C.menuCommands.TRIPPLE_TAP_CLEAR_ON_ONE} checked={prefs.trippleTapClearOnOne}\r\n              onChange={(e) => handleChange(C.menuCommands.TRIPPLE_TAP_CLEAR_ON_ONE)} name=\"trippleTap\" />}\r\n            label=\"Auto 3x Clear\"\r\n          />\r\n       \r\n        </MenuItem>\r\n        <MenuItem>\r\n\r\n          <FormControlLabel\r\n            control={<Switch key={C.menuCommands.IF_SELECTED} checked={prefs.showOnlySelected}\r\n              onChange={(e) => handleChange(C.menuCommands.IF_SELECTED)} name=\"showonlyselected\" />}\r\n            label=\"Show Only Selected\"\r\n          />\r\n        </MenuItem>\r\n        <MenuItem>\r\n\r\n          <FormControlLabel\r\n            control={<Switch key={C.menuCommands.DARK_MODE} checked={prefs.darkMode}\r\n              onChange={(e) => handleChange(C.menuCommands.DARK_MODE)} name=\"darkMode\" />}\r\n            label=\"Dark Mode\"\r\n          />\r\n       \r\n        </MenuItem>\r\n        <MenuItem>\r\n\r\n          <FormControlLabel\r\n            control={<Switch key={C.menuCommands.PROGRAMMER_TABLE_VIEW} checked={prefs.programmerTableView}\r\n              onChange={(e) => handleChange(C.menuCommands.PROGRAMMER_TABLE_VIEW)} name=\"Programmer Table View\" />}\r\n            label=\"Programmer Table View\"\r\n          />\r\n       \r\n        </MenuItem>\r\n        <MenuItem>\r\n        <Button onClick={(e)=>{setOpen(false); handleOpenConfig()}}>Edit Config</Button>\r\n        </MenuItem>\r\n      </Menu>\r\n     \r\n      <span style={{textAlign:'center', fontSize: 10}}> vanPJ v{process.env.REACT_APP_VERSION}{process.env.NODE_ENV==='development'?' Beta':''}</span>\r\n    </div>\r\n  )\r\n\r\n}","import { CircularProgress } from \"@material-ui/core\";\r\n\r\nexport default function Disconnected(){\r\n    return (\r\n      \r\n            <div style={{width:'100%', textAlign:'center'}} >\r\n     \r\n            <CircularProgress  color=\"secondary\" />\r\n            <p>Can't connect to server</p>\r\n            \r\n            </div>\r\n   \r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { createMuiTheme, createStyles, makeStyles, ThemeProvider, Theme } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport App from './App';\r\nimport * as Pref from './prefrences';\r\nimport ControlMenu from './components/ControlMenu';\r\nimport socketIOClinet   from 'socket.io-client'\r\nimport { Backdrop } from '@material-ui/core';\r\nimport Disconnected from './components/Disconnected';\r\nexport const Settings = React.createContext(Pref.defaultPrefs)\r\n\r\nexport let socket =socketIOClinet()\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: '#fff',\r\n    },\r\n  }),\r\n);\r\nexport default function LoadPage() {\r\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\r\n    // const prefersDarkMode = getDarkMode()  \r\n    const classes = useStyles()\r\n    const [prefres, setPrefs] = useState(Pref.defaultPrefs)\r\n    const [openConfig,setOpenConfig] = useState(false)\r\n    const [socketConnected,setSocketConnected]= useState(false)\r\n\r\n    useEffect(()=>{\r\n    if(!socketConnected){\r\n      try{\r\n   \r\n          console.log('Connecting Socket...')\r\n       // let s = socketIOClinet()\r\n    \r\n        socket.on('connect',()=>{\r\n           // socket = s\r\n            setSocketConnected(true)\r\n        })\r\n        socket.on('disconnect',()=>{\r\n           // socket = undefined\r\n            setSocketConnected(false)\r\n        })\r\n      \r\n      }catch(e){\r\n\r\n      }\r\n    }\r\n    return function cleanup(){\r\n     \r\n    }\r\n\r\n    },[socketConnected])\r\n\r\n    useEffect(() => {\r\n  \r\n        setPrefs(Pref.getPrefrences(prefersDarkMode))\r\n      \r\n    }, [prefersDarkMode])\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n            type: prefres.darkMode ? 'dark' : 'light',\r\n        }\r\n    })\r\n   \r\n    const handlePrefs = (p: Pref.prefres) => {\r\n       // console.log(prefres)\r\n        setPrefs(p)\r\n      //  console.log(prefres)\r\n        Pref.setCookie(p)\r\n    }\r\n    return (\r\n        <ThemeProvider theme={theme}>\r\n            <Settings.Provider value={prefres}/>\r\n            <CssBaseline />\r\n            <Backdrop className={classes.backdrop} open={!socketConnected} >\r\n                <Disconnected/>\r\n            </Backdrop>\r\n                <ControlMenu handleOpenConfig={()=> setOpenConfig(true)}handleSettings={handlePrefs} prefs={prefres} />\r\n                <App socket={socket} prefs={prefres} openConfig={openConfig} handleCloseConfig={()=>setOpenConfig(false)}/>\r\n              \r\n                \r\n            \r\n        </ThemeProvider>\r\n    );\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n      )\r\n  );\r\n  \r\n  export function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then(registration => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch(error => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then(response => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\r\n          'No internet connection found. App is running in offline mode.'\r\n        );\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then(registration => {\r\n          registration.unregister();\r\n        })\r\n        .catch(error => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n  }\r\n  ","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport LoadPage from './LoadPage'\r\nimport * as serviceWorker from './serviceWorker';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n \r\n    <LoadPage/>\r\n  \r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}